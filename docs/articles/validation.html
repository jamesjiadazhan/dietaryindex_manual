<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="dietaryindex">
<title>Validation â€¢ dietaryindex</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Validation">
<meta property="og:description" content="dietaryindex">
<meta property="og:image" content="https://jamesjiadazhan.github.io/dietaryindex_manual/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dietaryindex</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/dietaryindex.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/case-study-1,2,3.html">Case study_123</a>
    <a class="dropdown-item" href="../articles/validation.html">Validation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Validation</h1>
                        <h4 data-toc-skip class="author">James Zhan</h4>
            
            <h4 data-toc-skip class="date">2024-04-27</h4>
      
      
      <div class="d-none name"><code>validation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="load-packages-and-data">Load packages and data<a class="anchor" aria-label="anchor" href="#load-packages-and-data"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">dietaryindex</span><span class="op">)</span> <span class="co"># Load the package</span></span></code></pre></div>
<pre><code><span><span class="co">## Loaded dietaryindex</span></span></code></pre>
<pre><code><span><span class="co">## Thank you for using dietaryindex!</span></span></code></pre>
<pre><code><span><span class="co">## Tutorials: https://github.com/jamesjiadazhan/dietaryindex</span></span></code></pre>
<pre><code><span><span class="co">## Dietary index calculations vary by the research question of the analysis. Currently, dietaryindex only supports simple scoring algorithm methods for all dietary indexes. Please use dietaryindex responsibly according to your research question. For more information, please refer to this resource: https://epi.grants.cancer.gov/hei/tools.html.</span></span></code></pre>
<pre><code><span><span class="co">## Cite us:  citation('dietaryindex') or</span></span>
<span><span class="co">## Zhan JJ, Hodge RA, Dunlop AL, et al. Dietaryindex: a user-friendly and versatile R package for standardizing dietary pattern analysis in epidemiological and clinical studies. Am J Clin Nutr. Published online August 23, 2024. doi:10.1016/j.ajcnut.2024.08.021</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'dplyr'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:stats':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     filter, lag</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:base':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     intersect, setdiff, setequal, union</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://haven.tidyverse.org" class="external-link">haven</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load the data</span></span>
<span><span class="co">## set up the working directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/Raw validation files"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ACS2020_V1_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"ACS2020_V1_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">24</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">20</span></span></span></code></pre>
<pre><code><span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (20): id, gender, kcal, vegetable, vegetable_unique, fruit, fruit_unique...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ACS2020_V2_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"ACS2020_V2_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">24</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">20</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (20): id, gender, kcal, vegetable, vegetable_unique, fruit, fruit_unique...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AHEI_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"AHEI_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">22</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">27</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (27): id, gender, kcal, vegetable, fruit, whole_grain, nut_legume, n3_fa...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AHEIP_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"AHEIP_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">22</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (22): id, gender, kcal, vegetable, whole_fruit, white_meat_red_meat, fib...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DASH_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"DASH_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">10</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">20</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (20): id, gender, kcal, fruit, vegetable, nut_legume, whole_grain, low_f...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DASHI_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"DASHI_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">22</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (22): id, gender, kcal, total_fat, sat_fat, protein, cholesterol, fiber,...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DII_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"DII_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">92</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (92): id, Alcohol, vitamin B12, vitamin B6, Beta-carotene, Caffeine, Car...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEI2015_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2015_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">30</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (30): id, gender, kcal, total_fruit, whole_fruit, total_vegetable, green...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEI2020_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2020_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">22</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">31</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (31): id, gender, age, kcal, total_fruit, whole_fruit, total_vegetable, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MED_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"MED_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">22</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (22): id, gender, kcal, fruit, vegetable, whole_grain, legume, nut, fish...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MEDI_V2_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"MEDI_V2_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">26</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (26): id, gender, kcal, olive_oil, vegetable, fruit, legume, nut, fish, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MEDI_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"MEDI_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">26</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (26): id, gender, kcal, olive_oil, vegetable, fruit, legume, nut, fish, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PHDI_VALIDATION</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"PHDI_validation.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">26</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">34</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (34): id, gender, TOTALKCAL_PHDI, WGRAIN_SERV_PHDI, STARCHY_VEG_SERV_PHD...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="calculate-multiple-dietart-indexes-using-the-simulation-datasets-sample-sizes-range-from-10-to-26-">Calculate multiple dietart indexes using the simulation datasets
(sample sizes range from 10 to 26).<a class="anchor" aria-label="anchor" href="#calculate-multiple-dietart-indexes-using-the-simulation-datasets-sample-sizes-range-from-10-to-26-"></a>
</h2>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate the validation results and save them</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/Final validation files"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ACS2020 validation (Version 1)</span></span>
<span><span class="va">ACS2020_V1_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/ACS2020_V1.html">ACS2020_V1</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span>, </span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    GENDER <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">gender</span>, </span>
<span>    VEG_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>, </span>
<span>    VEG_ITEMS_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">vegetable_unique</span>, </span>
<span>    FRT_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>, </span>
<span>    FRT_ITEMS_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">fruit_unique</span>, </span>
<span>    WGRAIN_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>, </span>
<span>    REDPROC_MEAT_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">red_meat</span>, </span>
<span>    HPFRG_RATIO_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">process_food</span>, </span>
<span>    SSB_FRTJ_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span><span class="op">$</span><span class="va">ssb</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Reminder: this ACS2020_V1 index uses quartiles to rank participants' food/drink serving sizes and then calculate the component scores, which may generate results that are specific to your study population but not comparable to other populations."</span></span></code></pre>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">ACS2020_V1_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">ACS2020_V1_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">ACS2020_V1_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">ACS2020_V1_VALIDATION_RESULT_FINAL</span>, <span class="st">"ACS2020_V1_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## ACS2020 validation (Version 2)</span></span>
<span><span class="va">ACS2020_V2_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/ACS2020_V2.html">ACS2020_V2</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span>, </span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    GENDER <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">gender</span>, </span>
<span>    VEG_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>, </span>
<span>    VEG_ITEMS_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">vegetable_unique</span>, </span>
<span>    FRT_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>, </span>
<span>    FRT_ITEMS_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">fruit_unique</span>, </span>
<span>    WGRAIN_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>, </span>
<span>    REDPROC_MEAT_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">red_meat</span>, </span>
<span>    HPFRG_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">process_food</span>, </span>
<span>    SSB_FRTJ_SERV_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">ssb</span>,</span>
<span>    TOTALKCAL_ACS2020 <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span><span class="op">$</span><span class="va">kcal</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Reminder: this ACS2020_V2 index uses quartiles to rank participants' food/drink serving sizes and then calculate the component scores, which may generate results that are specific to your study population but not comparable to other populations."</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">ACS2020_V2_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">ACS2020_V2_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">ACS2020_V2_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">ACS2020_V2_VALIDATION_RESULT_FINAL</span>, <span class="st">"ACS2020_V2_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## AHEI validation</span></span>
<span><span class="va">AHEI_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/AHEI.html">AHEI</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">AHEI_VALIDATION</span>,</span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">id</span>,</span>
<span>    GENDER <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">gender</span>,</span>
<span>    TOTALKCAL_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">kcal</span>,</span>
<span>    VEG_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>,</span>
<span>    FRT_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>,</span>
<span>    WGRAIN_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>,</span>
<span>    NUTSLEG_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">nut_legume</span>,</span>
<span>    N3FAT_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">n3_fat</span>,</span>
<span>    PUFA_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">pufa</span>,</span>
<span>    SSB_FRTJ_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">ssb_fruit_juice</span>,</span>
<span>    REDPROC_MEAT_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">red_processed_meat</span>,</span>
<span>    TRANS_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">trans_fat</span>,</span>
<span>    SODIUM_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">sodium</span>,</span>
<span>    ALCOHOL_SERV_AHEI <span class="op">=</span> <span class="va">AHEI_VALIDATION</span><span class="op">$</span><span class="va">alcohol</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">AHEI_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">AHEI_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">AHEI_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">AHEI_VALIDATION_RESULT_FINAL</span>, <span class="st">"AHEI_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## HEI2015 validation</span></span>
<span><span class="va">HEI2015_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/HEI2015.html">HEI2015</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span>,</span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">id</span>,</span>
<span>    TOTALKCAL_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">kcal</span>,</span>
<span>    TOTALFRT_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">total_fruit</span>,</span>
<span>    FRT_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">whole_fruit</span>,</span>
<span>    VEG_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">total_vegetable</span>,</span>
<span>    GREENNBEAN_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">green_and_bean</span>,</span>
<span>    TOTALPRO_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">total_protein</span>,</span>
<span>    SEAPLANTPRO_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">seafood_plant_protein</span>,</span>
<span>    WHOLEGRAIN_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>,</span>
<span>    DAIRY_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">dairy</span>,</span>
<span>    FATTYACID_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">fatty_acid</span>,</span>
<span>    REFINEDGRAIN_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">refined_grain</span>,</span>
<span>    SODIUM_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">sodium</span>,</span>
<span>    ADDEDSUGAR_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">added_sugar</span>,</span>
<span>    SATFAT_SERV_HEI2015 <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span><span class="op">$</span><span class="va">saturated_fat</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">HEI2015_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">HEI2015_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">HEI2015_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the merged result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">HEI2015_VALIDATION_RESULT_FINAL</span>, <span class="st">"HEI2015_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## HEI2020 validation</span></span>
<span><span class="va">HEI2020_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/HEI2020.html">HEI2020</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span>,</span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">id</span>,</span>
<span>    AGE <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">age</span>,</span>
<span>    TOTALKCAL_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">kcal</span>,</span>
<span>    TOTALFRT_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">total_fruit</span>,</span>
<span>    FRT_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">whole_fruit</span>,</span>
<span>    VEG_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">total_vegetable</span>,</span>
<span>    GREENNBEAN_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">green_and_bean</span>,</span>
<span>    TOTALPRO_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">total_protein</span>,</span>
<span>    SEAPLANTPRO_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">seafood_plant_protein</span>,</span>
<span>    WHOLEGRAIN_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>,</span>
<span>    DAIRY_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">dairy</span>,</span>
<span>    FATTYACID_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">fatty_acid</span>,</span>
<span>    REFINEDGRAIN_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">refined_grain</span>,</span>
<span>    SODIUM_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">sodium</span>,</span>
<span>    ADDEDSUGAR_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">added_sugar</span>,</span>
<span>    SATFAT_SERV_HEI2020 <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span><span class="op">$</span><span class="va">saturated_fat</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">HEI2020_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">HEI2020_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">HEI2020_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the merged result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">HEI2020_VALIDATION_RESULT_FINAL</span>, <span class="st">"HEI2020_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## AHEIP validation</span></span>
<span><span class="va">AHEIP_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/AHEIP.html">AHEIP</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span>,</span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">id</span>,</span>
<span>    VEG_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>,</span>
<span>    FRT_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">whole_fruit</span>,</span>
<span>    WHITERED_RT_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">white_meat_red_meat</span>,</span>
<span>    FIBER_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">fiber</span>,</span>
<span>    TRANS_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">trans_fat</span>,</span>
<span>    POLYSAT_RT_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">poly_fat_sat_fat</span>,</span>
<span>    CALCIUM_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">calcium</span>,</span>
<span>    FOLATE_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">folate</span>,</span>
<span>    IRON_SERV_AHEIP <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span><span class="op">$</span><span class="va">iron</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">AHEIP_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">AHEIP_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">AHEIP_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the merged result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">AHEIP_VALIDATION_RESULT_FINAL</span>, <span class="st">"AHEIP_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## DASH validation</span></span>
<span><span class="va">DASH_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/DASH.html">DASH</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">DASH_VALIDATION</span>,</span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">id</span>,</span>
<span>    TOTALKCAL_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">kcal</span>,</span>
<span>    FRT_FRTJ_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>,</span>
<span>    VEG_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>,</span>
<span>    NUTSLEG_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">nut_legume</span>,</span>
<span>    WGRAIN_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>,</span>
<span>    LOWF_DAIRY_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">low_fat_dairy</span>,</span>
<span>    SODIUM_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">sodium</span>,</span>
<span>    REDPROC_MEAT_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">red_processed_meat</span>,</span>
<span>    SSB_FRTJ_SERV_DASH <span class="op">=</span> <span class="va">DASH_VALIDATION</span><span class="op">$</span><span class="va">ssb</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Reminder: this DASH index uses quintiles to rank participants' food/drink serving sizes and then calculate DASH component scores, which may generate results that are specific to your study population but not comparable to other populations.</span></span></code></pre>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">DASH_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">DASH_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">DASH_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the merged result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">DASH_VALIDATION_RESULT_FINAL</span>, <span class="st">"DASH_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## DASHI validation</span></span>
<span><span class="va">DASHI_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/DASHI.html">DASHI</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">DASHI_VALIDATION</span>, </span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    TOTALKCAL_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">kcal</span>, </span>
<span>    TOTAL_FAT_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">total_fat</span>, </span>
<span>    SAT_FAT_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">sat_fat</span>, </span>
<span>    PROTEIN_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">protein</span>, </span>
<span>    CHOLESTEROL_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">cholesterol</span>, </span>
<span>    FIBER_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">fiber</span>, </span>
<span>    POTASSIUM_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">potassium</span>, </span>
<span>    MAGNESIUM_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">magnesium</span>,</span>
<span>    CALCIUM_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">calcium</span>, </span>
<span>    SODIUM_DASHI <span class="op">=</span> <span class="va">DASHI_VALIDATION</span><span class="op">$</span><span class="va">sodium</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">DASHI_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">DASHI_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">DASHI_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the merged result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">DASHI_VALIDATION_RESULT_FINAL</span>, <span class="st">"DASHI_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## MED validation</span></span>
<span><span class="va">MED_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/MED.html">MED</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">MED_VALIDATION</span>, </span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    FRT_FRTJ_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>, </span>
<span>    VEG_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>, </span>
<span>    WGRAIN_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">whole_grain</span>, </span>
<span>    LEGUMES_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">legume</span>, </span>
<span>    NUTS_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">nut</span>, </span>
<span>    FISH_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">fish</span>, </span>
<span>    REDPROC_MEAT_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">red_processed_meat</span>, </span>
<span>    MONSATFAT_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">monofat_satfat</span>, </span>
<span>    ALCOHOL_SERV_MED <span class="op">=</span> <span class="va">MED_VALIDATION</span><span class="op">$</span><span class="va">alcohol</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Reminder: this MED index uses medians to rank participants' food/drink serving sizes and then calculate MED component scores, which may generate results that are specific to your study population but not comparable to other populations.</span></span></code></pre>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">MED_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">MED_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">MED_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">MED_VALIDATION_RESULT_FINAL</span>, <span class="st">"MED_VALIDATION_RESULT_FINAL.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## MEDI validation</span></span>
<span><span class="va">MEDI_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/MEDI.html">MEDI</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">MEDI_VALIDATION</span>, </span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    OLIVE_OIL_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">olive_oil</span>, </span>
<span>    VEG_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>, </span>
<span>    FRT_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>, </span>
<span>    LEGUMES_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">legume</span>, </span>
<span>    NUTS_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">nut</span>, </span>
<span>    FISH_SEAFOOD_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">fish</span>, </span>
<span>    ALCOHOL_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">alcohol</span>, </span>
<span>    SSB_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">ssb</span>, </span>
<span>    SWEETS_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">sweets</span>, </span>
<span>    DISCRET_FAT_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">discret_fat</span>, </span>
<span>    REDPROC_MEAT_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_VALIDATION</span><span class="op">$</span><span class="va">red_meat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">MEDI_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">MEDI_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">MEDI_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">MEDI_VALIDATION_RESULT_FINAL</span>, <span class="st">"MEDI_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## MEDI_V2 validation</span></span>
<span><span class="va">MEDI_V2_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/MEDI_V2.html">MEDI_V2</a></span><span class="op">(</span></span>
<span>    SERV_DATA <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span>, </span>
<span>    RESPONDENTID <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    OLIVE_OIL_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">olive_oil</span>, </span>
<span>    VEG_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">vegetable</span>, </span>
<span>    FRT_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">fruit</span>, </span>
<span>    LEGUMES_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">legume</span>, </span>
<span>    NUTS_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">nut</span>, </span>
<span>    FISH_SEAFOOD_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">fish</span>, </span>
<span>    ALCOHOL_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">alcohol</span>, </span>
<span>    SSB_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">ssb</span>, </span>
<span>    SWEETS_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">sweets</span>, </span>
<span>    DISCRET_FAT_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">discret_fat</span>, </span>
<span>    REDPROC_MEAT_SERV_MEDI <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span><span class="op">$</span><span class="va">red_meat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">MEDI_V2_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">MEDI_V2_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">MEDI_V2_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">MEDI_V2_VALIDATION_RESULT_FINAL</span>, <span class="st">"MEDI_V2_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## PHDI validation</span></span>
<span><span class="va">PHDI_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/PHDI.html">PHDI</a></span><span class="op">(</span></span>
<span>    SERV_DATA<span class="op">=</span><span class="va">PHDI_VALIDATION</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">id</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">gender</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">TOTALKCAL_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">WGRAIN_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">STARCHY_VEG_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">VEG_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">FRT_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">DAIRY_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">REDPROC_MEAT_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">POULTRY_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">EGG_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">FISH_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">NUTS_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">LEGUMES_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">SOY_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">ADDED_FAT_UNSAT_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">ADDED_FAT_SAT_TRANS_SERV_PHDI</span>, </span>
<span>    <span class="va">PHDI_VALIDATION</span><span class="op">$</span><span class="va">ADDED_SUGAR_SERV_PHDI</span></span>
<span>    <span class="op">)</span> </span>
<span></span>
<span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">PHDI_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">PHDI_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">PHDI_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">PHDI_VALIDATION_RESULT_FINAL</span>, <span class="st">"PHDI_validation_result.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## DII validation</span></span>
<span><span class="va">DII_VALIDATION_RESULT</span> <span class="op">=</span> <span class="fu"><a href="../reference/DII.html">DII</a></span><span class="op">(</span>SERV_DATA <span class="op">=</span> <span class="va">DII_VALIDATION</span>, RESPONDENTID <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">id</span>, REPEATNUM <span class="op">=</span> <span class="fl">1</span>, ALCOHOL_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Alcohol</span>, VITB12_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`vitamin B12`</span>, VITB6_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`vitamin B6`</span>, BCAROTENE_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Beta-carotene`</span>, CAFFEINE_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Caffeine</span>, CARB_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Carbohydrate</span>, CHOLES_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Cholesterol</span>, KCAL_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Energy</span>, EUGENOL_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Eugenol</span>, TOTALFAT_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Total fat`</span>, FIBER_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Fiber</span>, FOLICACID_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Folic acid`</span>, GARLIC_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Garlic</span>, GINGER_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Ginger</span>, IRON_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Iron</span>, MG_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Magnesium</span>, MUFA_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">MUFA</span>, NIACIN_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Niacin</span>, N3FAT_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`n-3 fatty acid`</span>, N6FAT_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`n-6 fatty acid`</span>, ONION_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Onion</span>, PROTEIN_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Protein</span>, PUFA_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">PUFA</span>, RIBOFLAVIN_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Riboflavin</span>, SAFFRON_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Saffron</span>, SATFAT_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Saturated fat`</span>, SE_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Selenium</span>, THIAMIN_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Thiamin</span>, TRANSFAT_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Trans fat`</span>, TURMERIC_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Turmeric</span>, VITA_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Vitamin A`</span>, VITC_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Vitamin C`</span>, VITD_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Vitamin D`</span>, VITE_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Vitamin E`</span>, ZN_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Zinc</span>, TEA_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Green/black tea`</span>, FLA3OL_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Flavan-3-ol`</span>, FLAVONES_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Flavones</span>, FLAVONOLS_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Flavonols</span>, FLAVONONES_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Flavonones</span>, ANTHOC_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Anthocyanidins</span>, ISOFLAVONES_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">`Isoflavones`</span>, PEPPER_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Pepper</span>, THYME_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Thyme_oregano</span>, ROSEMARY_DII <span class="op">=</span> <span class="va">DII_VALIDATION</span><span class="op">$</span><span class="va">Rosemary</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## It is normal to see warnings if you do not provide all arguments using DII. The algorithm will only count the arguments you enter to calculate the DII. All warnings are about the first column you don't use. For example, if you only entered alcohol, vitamin b12, and vitamin b6, all warnings would remind you that bcarotene is not found.</span></span></code></pre>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Merge the validation data with the result</span></span>
<span><span class="va">DII_VALIDATION_RESULT_FINAL</span> <span class="op">=</span> <span class="va">DII_VALIDATION</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">DII_VALIDATION_RESULT</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span> <span class="op">=</span> <span class="st">"RESPONDENTID"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">DII_VALIDATION_RESULT_FINAL</span>, <span class="st">"DII_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-dietaryindex-to-calculate-hei2015-using-the-nhanes-2017-2018-data-n7122-">Use dietaryindex to calculate HEI2015 using the NHANES 2017-2018
data (n=7122).<a class="anchor" aria-label="anchor" href="#use-dietaryindex-to-calculate-hei2015-using-the-nhanes-2017-2018-data-n7122-"></a>
</h2>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"NHANES_20172018"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">NHANES_20172018</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## $FPED</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 8,704 Ã— 51</span></span></span>
<span><span class="co">##     SEQN RIAGENDR RIDAGEYR RIDRETH3 SDMVPSU SDMVSTRA INDFMIN2 INDFMPIR WTDRD1</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">93</span>703        2        2        6       2      145       15     5        0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15     5    <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">93</span>705        2       66        4       2      145        3     0.82  <span style="text-decoration: underline;">7</span>186.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">93</span>706        1       18        6       2      134       <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="text-decoration: underline;">6</span>464.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">93</span>707        1       13        7       1      138       10     1.88 <span style="text-decoration: underline;">15</span>334.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">93</span>708        2       66        6       2      138        6     1.63 <span style="text-decoration: underline;">10</span>826.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">93</span>709        2       75        4       1      136        2     0.41     0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">93</span>710        2        0        3       1      134       15     4.9   <span style="text-decoration: underline;">8</span>616.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">93</span>711        1       56        6       2      134       15     5     <span style="text-decoration: underline;">9</span>098.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">93</span>712        1       18        1       2      147        4     0.76 <span style="text-decoration: underline;">60</span>947.</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 8,694 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 42 more variables: WTDR2D &lt;dbl&gt;, DR1DRSTZ &lt;dbl&gt;, DRABF &lt;dbl&gt;, DRDINT &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1TNUMF &lt;dbl&gt;, DR1T_F_TOTAL &lt;dbl&gt;, DR1T_F_CITMLB &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1T_F_OTHER &lt;dbl&gt;, DR1T_F_JUICE &lt;dbl&gt;, DR1T_V_TOTAL &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1T_V_DRKGR &lt;dbl&gt;, DR1T_V_REDOR_TOTAL &lt;dbl&gt;, DR1T_V_REDOR_TOMATO &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1T_V_REDOR_OTHER &lt;dbl&gt;, DR1T_V_STARCHY_TOTAL &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1T_V_STARCHY_POTATO &lt;dbl&gt;, DR1T_V_STARCHY_OTHER &lt;dbl&gt;, â€¦</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $NUTRIENT</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 8,704 Ã— 168</span></span></span>
<span><span class="co">##     SEQN WTDRD1 WTDR2D DR1DRSTZ DR1EXMER DRABF DRDINT DR1DBIH DR1DAY DR1LANG</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">93</span>703     0     <span style="color: #BB0000;">NA</span>         5       <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        1       49     2      2       7      2       1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">93</span>705  <span style="text-decoration: underline;">7</span>186.  <span style="text-decoration: underline;">5</span>640.        1       73     2      2       5      1       1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">93</span>706  <span style="text-decoration: underline;">6</span>464.     0         1       86     2      1      <span style="color: #BB0000;">NA</span>      6       1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">93</span>707 <span style="text-decoration: underline;">15</span>334. <span style="text-decoration: underline;">22</span>707.        1       81     2      2      14      2       1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">93</span>708 <span style="text-decoration: underline;">10</span>826. <span style="text-decoration: underline;">22</span>482.        1       73     2      2      41      7       6</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">93</span>709     0     <span style="color: #BB0000;">NA</span>         5       <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">93</span>710  <span style="text-decoration: underline;">8</span>616.  <span style="text-decoration: underline;">7</span>185.        1       14     2      2      16      6       1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">93</span>711  <span style="text-decoration: underline;">9</span>098.  <span style="text-decoration: underline;">8</span>230.        1       86     2      2      13      6       1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">93</span>712 <span style="text-decoration: underline;">60</span>947. <span style="text-decoration: underline;">89</span>066.        1       88     2      2      14      3       1</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 8,694 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 158 more variables: DR1MRESP &lt;dbl&gt;, DR1HELP &lt;dbl&gt;, DBQ095Z &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DBD100 &lt;dbl&gt;, DRQSPREP &lt;dbl&gt;, DR1STY &lt;dbl&gt;, DR1SKY &lt;dbl&gt;, DRQSDIET &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DRQSDT1 &lt;dbl&gt;, DRQSDT2 &lt;dbl&gt;, DRQSDT3 &lt;dbl&gt;, DRQSDT4 &lt;dbl&gt;, DRQSDT5 &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DRQSDT6 &lt;dbl&gt;, DRQSDT7 &lt;dbl&gt;, DRQSDT8 &lt;dbl&gt;, DRQSDT9 &lt;dbl&gt;, DRQSDT10 &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DRQSDT11 &lt;dbl&gt;, DRQSDT12 &lt;dbl&gt;, DRQSDT91 &lt;dbl&gt;, DR1TNUMF &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1TKCAL &lt;dbl&gt;, DR1TPROT &lt;dbl&gt;, DR1TCARB &lt;dbl&gt;, DR1TSUGR &lt;dbl&gt;, â€¦</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $DEMO</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 9,254 Ã— 46</span></span></span>
<span><span class="co">##     SEQN SDDSRVYR RIDSTATR RIAGENDR RIDAGEYR RIDAGEMN RIDRETH1 RIDRETH3 RIDEXMON</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">93</span>703       10        2        2        2       <span style="color: #BB0000;">NA</span>        5        6        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">93</span>704       10        2        1        2       <span style="color: #BB0000;">NA</span>        3        3        1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">93</span>705       10        2        2       66       <span style="color: #BB0000;">NA</span>        4        4        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">93</span>706       10        2        1       18       <span style="color: #BB0000;">NA</span>        5        6        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">93</span>707       10        2        1       13       <span style="color: #BB0000;">NA</span>        5        7        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">93</span>708       10        2        2       66       <span style="color: #BB0000;">NA</span>        5        6        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">93</span>709       10        2        2       75       <span style="color: #BB0000;">NA</span>        4        4        1</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">93</span>710       10        2        2        0       11        3        3        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">93</span>711       10        2        1       56       <span style="color: #BB0000;">NA</span>        5        6        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">93</span>712       10        2        1       18       <span style="color: #BB0000;">NA</span>        1        1        2</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 9,244 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 37 more variables: RIDEXAGM &lt;dbl&gt;, DMQMILIZ &lt;dbl&gt;, DMQADFC &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DMDBORN4 &lt;dbl&gt;, DMDCITZN &lt;dbl&gt;, DMDYRSUS &lt;dbl&gt;, DMDEDUC3 &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DMDEDUC2 &lt;dbl&gt;, DMDMARTL &lt;dbl&gt;, RIDEXPRG &lt;dbl&gt;, SIALANG &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   SIAPROXY &lt;dbl&gt;, SIAINTRP &lt;dbl&gt;, FIALANG &lt;dbl&gt;, FIAPROXY &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   FIAINTRP &lt;dbl&gt;, MIALANG &lt;dbl&gt;, MIAPROXY &lt;dbl&gt;, MIAINTRP &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   AIALANGA &lt;dbl&gt;, DMDHHSIZ &lt;dbl&gt;, DMDFMSIZ &lt;dbl&gt;, DMDHHSZA &lt;dbl&gt;, â€¦</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $NUTRIENT_IND</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 112,683 Ã— 84</span></span></span>
<span><span class="co">##     SEQN WTDRD1 WTDR2D DR1ILINE DR1DRSTZ DR1EXMER DRABF DRDINT DR1DBIH DR1DAY</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        1        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        2        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        3        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        4        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        5        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        6        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        7        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        8        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.        9        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">93</span>704 <span style="text-decoration: underline;">81</span>714. <span style="text-decoration: underline;">82</span>443.       10        1       49     2      2       7      2</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 112,673 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 74 more variables: DR1LANG &lt;dbl&gt;, DR1CCMNM &lt;dbl&gt;, DR1CCMTX &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1_020 &lt;time&gt;, DR1_030Z &lt;dbl&gt;, DR1FS &lt;dbl&gt;, DR1_040Z &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1IFDCD &lt;dbl&gt;, DR1IGRMS &lt;dbl&gt;, DR1IKCAL &lt;dbl&gt;, DR1IPROT &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1ICARB &lt;dbl&gt;, DR1ISUGR &lt;dbl&gt;, DR1IFIBE &lt;dbl&gt;, DR1ITFAT &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1ISFAT &lt;dbl&gt;, DR1IMFAT &lt;dbl&gt;, DR1IPFAT &lt;dbl&gt;, DR1ICHOL &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1IATOC &lt;dbl&gt;, DR1IATOA &lt;dbl&gt;, DR1IRET &lt;dbl&gt;, DR1IVARA &lt;dbl&gt;, â€¦</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $FPED_IND</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 112,683 Ã— 55</span></span></span>
<span><span class="co">##     SEQN RIAGENDR RIDAGEYR RIDRETH3 SDMVPSU SDMVSTRA INDFMIN2 INDFMPIR WTDRD1</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15        5 <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 112,673 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 46 more variables: WTDR2D &lt;dbl&gt;, DR1DRSTZ &lt;dbl&gt;, DRABF &lt;dbl&gt;, DRDINT &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1TNUMF &lt;dbl&gt;, DR1ILINE &lt;dbl&gt;, DR1IFDCD &lt;dbl&gt;, DR1IGRMS &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DESCRIPTION &lt;chr&gt;, DR1I_F_TOTAL &lt;dbl&gt;, DR1I_F_CITMLB &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1I_F_OTHER &lt;dbl&gt;, DR1I_F_JUICE &lt;dbl&gt;, DR1I_V_TOTAL &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1I_V_DRKGR &lt;dbl&gt;, DR1I_V_REDOR_TOTAL &lt;dbl&gt;, DR1I_V_REDOR_TOMATO &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR1I_V_REDOR_OTHER &lt;dbl&gt;, DR1I_V_STARCHY_TOTAL &lt;dbl&gt;, â€¦</span></span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $FPED2</span></span>
<span><span class="co">## <span style="color: #949494;"># A tibble: 8,704 Ã— 51</span></span></span>
<span><span class="co">##     SEQN RIAGENDR RIDAGEYR RIDRETH3 SDMVPSU SDMVSTRA INDFMIN2 INDFMPIR WTDRD1</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">93</span>703        2        2        6       2      145       15     5        0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">93</span>704        1        2        3       1      143       15     5    <span style="text-decoration: underline;">81</span>714.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">93</span>705        2       66        4       2      145        3     0.82  <span style="text-decoration: underline;">7</span>186.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">93</span>706        1       18        6       2      134       <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>     <span style="text-decoration: underline;">6</span>464.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">93</span>707        1       13        7       1      138       10     1.88 <span style="text-decoration: underline;">15</span>334.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">93</span>708        2       66        6       2      138        6     1.63 <span style="text-decoration: underline;">10</span>826.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">93</span>709        2       75        4       1      136        2     0.41     0 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">93</span>710        2        0        3       1      134       15     4.9   <span style="text-decoration: underline;">8</span>616.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">93</span>711        1       56        6       2      134       15     5     <span style="text-decoration: underline;">9</span>098.</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">93</span>712        1       18        1       2      147        4     0.76 <span style="text-decoration: underline;">60</span>947.</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 8,694 more rows</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 42 more variables: WTDR2D &lt;dbl&gt;, DR2DRSTZ &lt;dbl&gt;, DRABF &lt;dbl&gt;, DRDINT &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR2TNUMF &lt;dbl&gt;, DR2T_F_TOTAL &lt;dbl&gt;, DR2T_F_CITMLB &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR2T_F_OTHER &lt;dbl&gt;, DR2T_F_JUICE &lt;dbl&gt;, DR2T_V_TOTAL &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR2T_V_DRKGR &lt;dbl&gt;, DR2T_V_REDOR_TOTAL &lt;dbl&gt;, DR2T_V_REDOR_TOMATO &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR2T_V_REDOR_OTHER &lt;dbl&gt;, DR2T_V_STARCHY_TOTAL &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   DR2T_V_STARCHY_POTATO &lt;dbl&gt;, DR2T_V_STARCHY_OTHER &lt;dbl&gt;, â€¦</span></span></span></code></pre>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/HEI2015_NHANES_1718"</span><span class="op">)</span></span>
<span><span class="co">## HEI2015_NHANES_FPED validation using the SAS codes from National Cancer Institute (https://epi.grants.cancer.gov/hei/sas-code.html)</span></span>
<span><span class="co"># day 1 only</span></span>
<span><span class="va">HEI2015_NHANES_FPED_1718</span> <span class="op">=</span> <span class="fu"><a href="../reference/HEI2015_NHANES_FPED.html">HEI2015_NHANES_FPED</a></span><span class="op">(</span></span>
<span>    FPED_PATH <span class="op">=</span> <span class="va">NHANES_20172018</span><span class="op">$</span><span class="va">FPED</span>,</span>
<span>    NUTRIENT_PATH <span class="op">=</span> <span class="va">NHANES_20172018</span><span class="op">$</span><span class="va">NUTRIENT</span>,</span>
<span>    DEMO_PATH <span class="op">=</span> <span class="va">NHANES_20172018</span><span class="op">$</span><span class="va">DEMO</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">HEI2015_NHANES_FPED_1718</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 15</span></span></span>
<span><span class="co">##    SEQN HEI2015_ALL HEI2015_TOTALFRT HEI2015_FRT HEI2015_VEG HEI2015_GREENNBEAN</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> <span style="text-decoration: underline;">93</span>704        63.5             5           0           3.03                  0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> <span style="text-decoration: underline;">93</span>705        41.1             0           0           5                     5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> <span style="text-decoration: underline;">93</span>706        44.5             0           0           1.65                  0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> <span style="text-decoration: underline;">93</span>707        41.6             0           0           2.41                  0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> <span style="text-decoration: underline;">93</span>708        58.5             2.45        4.90        5                     0</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> <span style="text-decoration: underline;">93</span>711        67.1             2.13        3.12        5                     5</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 9 more variables: HEI2015_TOTALPRO &lt;dbl&gt;, HEI2015_SEAPLANTPRO &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_WHOLEGRAIN &lt;dbl&gt;, HEI2015_DAIRY &lt;dbl&gt;, HEI2015_FATTYACID &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_REFINEDGRAIN &lt;dbl&gt;, HEI2015_SODIUM &lt;dbl&gt;, HEI2015_ADDEDSUGAR &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_SATFAT &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># save the result</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">HEI2015_NHANES_FPED_1718</span>, <span class="st">"dietaryindex_HEI2015_1718.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read in the SAS result using the NCI SAS codes</span></span>
<span><span class="va">HEI2015_NHANES_SAS_1718</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"SAS_HEI2015_1718.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">7122</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">16</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (16): SEQN, DR1TKCAL, HEI2015C1_TOTALVEG, HEI2015C2_GREEN_AND_BEAN, HEI2...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">HEI2015_NHANES_SAS_1718</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 16</span></span></span>
<span><span class="co">##    SEQN DR1TKCAL HEI2015C1_TOTALVEG HEI2015C2_GREEN_AND_Bâ€¦Â¹ HEI2015C3_TOTALFRUIT</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> <span style="text-decoration: underline;">93</span>704     <span style="text-decoration: underline;">1</span>230               3.03                       0                 5   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> <span style="text-decoration: underline;">93</span>705     <span style="text-decoration: underline;">1</span>202               5                          5                 0   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> <span style="text-decoration: underline;">93</span>706     <span style="text-decoration: underline;">1</span>987               1.65                       0                 0   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> <span style="text-decoration: underline;">93</span>707     <span style="text-decoration: underline;">1</span>775               2.41                       0                 0   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> <span style="text-decoration: underline;">93</span>708     <span style="text-decoration: underline;">1</span>251               5                          0                 2.45</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> <span style="text-decoration: underline;">93</span>711     <span style="text-decoration: underline;">2</span>840               5                          5                 2.13</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ abbreviated name: Â¹â€‹HEI2015C2_GREEN_AND_BEAN</span></span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 11 more variables: HEI2015C4_WHOLEFRUIT &lt;dbl&gt;, HEI2015C5_WHOLEGRAIN &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015C6_TOTALDAIRY &lt;dbl&gt;, HEI2015C7_TOTPROT &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015C8_SEAPLANT_PROT &lt;dbl&gt;, HEI2015C9_FATTYACID &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015C10_SODIUM &lt;dbl&gt;, HEI2015C11_REFINEDGRAIN &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015C12_SFAT &lt;dbl&gt;, HEI2015C13_ADDSUG &lt;dbl&gt;, HEI2015_TOTAL_SCORE &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check if the HEI2015_TOTAL_SCORE in the SAS result is the same as the HEI2015_ALL in the R result in two decimals</span></span>
<span><span class="va">HEI2015_NHANES_FPED_1718</span><span class="op">$</span><span class="va">HEI2015_ALL</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">HEI2015_NHANES_FPED_1718</span><span class="op">$</span><span class="va">HEI2015_ALL</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">HEI2015_NHANES_SAS_1718</span><span class="op">$</span><span class="va">HEI2015_TOTAL_SCORE</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">HEI2015_NHANES_SAS_1718</span><span class="op">$</span><span class="va">HEI2015_TOTAL_SCORE</span>, <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">HEI2015_NHANES_FPED_1718</span><span class="op">$</span><span class="va">HEI2015_ALL</span> <span class="op">==</span> <span class="va">HEI2015_NHANES_SAS_1718</span><span class="op">$</span><span class="va">HEI2015_TOTAL_SCORE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## TRUE </span></span>
<span><span class="co">## 7122</span></span></code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## all results are TRUE, which means the R results are the same as the SAS results</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-dietaryindex-to-calculate-hei2015-using-asa24-example-data-n21-">Use dietaryindex to calculate HEI2015 using ASA24 example data
(n=21).<a class="anchor" aria-label="anchor" href="#use-dietaryindex-to-calculate-hei2015-using-asa24-example-data-n21-"></a>
</h2>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set working directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/HEI2015_ASA24_example_data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read in the ASA24 data</span></span>
<span><span class="va">ASA24_exp</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"THR_2022-09-13_86071_Totals.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">21</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">116</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #BB0000;">chr</span>   (5): RecallRecId, UserID, IntakeStartDateTime, IntakeEndDateTime, Repo...</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (111): UserName, RecallNo, RecallAttempt, RecallStatus, Lang, NumFoods, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ASA24_exp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 116</span></span></span>
<span><span class="co">##   RecallRecId                UserName UserID RecallNo RecallAttempt RecallStatus</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> 960a78fa-fdf8-417d-a5d2-eâ€¦        1 e6541â€¦        1             0            2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> cee8c74d-51a2-4629-b92f-6â€¦        2 dbb27â€¦        1             0            2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span> 1f9daf51-8540-4fef-9f49-fâ€¦        3 f0115â€¦        1             0            2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span> 55f614b3-6edd-4cbe-805e-dâ€¦        4 337d8â€¦        1             0            2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span> 81c77799-cf9f-4c81-a188-8â€¦        5 998f0â€¦        1             0            2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span> 62c6d759-5d8f-4d9d-a8f4-9â€¦        6 aae33â€¦        1             0            2</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 110 more variables: IntakeStartDateTime &lt;chr&gt;, IntakeEndDateTime &lt;chr&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ReportingDate &lt;chr&gt;, Lang &lt;dbl&gt;, NumFoods &lt;dbl&gt;, NumCodes &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   AmtUsual &lt;dbl&gt;, KCAL &lt;dbl&gt;, PROT &lt;dbl&gt;, TFAT &lt;dbl&gt;, CARB &lt;dbl&gt;, MOIS &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ALC &lt;dbl&gt;, CAFF &lt;dbl&gt;, THEO &lt;dbl&gt;, SUGR &lt;dbl&gt;, FIBE &lt;dbl&gt;, CALC &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   IRON &lt;dbl&gt;, MAGN &lt;dbl&gt;, PHOS &lt;dbl&gt;, POTA &lt;dbl&gt;, SODI &lt;dbl&gt;, ZINC &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   COPP &lt;dbl&gt;, SELE &lt;dbl&gt;, VC &lt;dbl&gt;, VB1 &lt;dbl&gt;, VB2 &lt;dbl&gt;, NIAC &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   VB6 &lt;dbl&gt;, FOLA &lt;dbl&gt;, FA &lt;dbl&gt;, FF &lt;dbl&gt;, FDFE &lt;dbl&gt;, VB12 &lt;dbl&gt;, â€¦</span></span></span></code></pre>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate HEI-2015 score using the dietaryindex package</span></span>
<span><span class="va">HEI2015_ASA24_exp</span> <span class="op">=</span> <span class="fu"><a href="../reference/HEI2015_ASA24.html">HEI2015_ASA24</a></span><span class="op">(</span><span class="va">ASA24_exp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## RECALL_SUMMARIZE = TRUE, summarizing HEI2015 for ASA24 data by averaging over all possible recalls per person per day...</span></span></code></pre>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">HEI2015_ASA24_exp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 17</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   UserName, UserID [6]</span></span></span>
<span><span class="co">##   UserName UserID TOTALKCAL HEI2015_ALL HEI2015_TOTALFRT HEI2015_FRT HEI2015_VEG</span></span>
<span><span class="co">##      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>        1 e6541â€¦     <span style="text-decoration: underline;">2</span>019.        69.8             1.26        2.45        4.73</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>        2 dbb27â€¦     <span style="text-decoration: underline;">1</span>247.        52.8             5           0           5   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>        3 f0115â€¦     <span style="text-decoration: underline;">2</span>206.        51.2             5           5           5   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>        4 337d8â€¦     <span style="text-decoration: underline;">2</span>095.        47.5             0           0           2.58</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>        5 998f0â€¦     <span style="text-decoration: underline;">1</span>209.        45.2             0           0           1.22</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>        6 aae33â€¦     <span style="text-decoration: underline;">1</span>694.        52.9             3.78        5           2.12</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 10 more variables: HEI2015_GREENNBEAN &lt;dbl&gt;, HEI2015_TOTALPRO &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_SEAPLANTPRO &lt;dbl&gt;, HEI2015_WHOLEGRAIN &lt;dbl&gt;, HEI2015_DAIRY &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_FATTYACID &lt;dbl&gt;, HEI2015_REFINEDGRAIN &lt;dbl&gt;, HEI2015_SODIUM &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_ADDEDSUGAR &lt;dbl&gt;, HEI2015_SATFAT &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Write the HEI-2015 score calculated by dietaryindex to a csv file</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">HEI2015_ASA24_exp</span>, <span class="st">"HEI2015_ASA24_dietaryindex.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="use-dietaryindex-to-calculate-hei2015-using-dhq3-example-data-n23-">Use dietaryindex to calculate HEI2015 using DHQ3 example data
(n=23).<a class="anchor" aria-label="anchor" href="#use-dietaryindex-to-calculate-hei2015-using-dhq3-example-data-n23-"></a>
</h2>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set working directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/HEI2015_DHQ3_example_data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read in the DHQ3 data</span></span>
<span><span class="va">DHQ3_exp</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"Sample total daily results.csv"</span>, skip <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">23</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">302</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (302): Respondent ID, Record Number, Sex (1=male; 2=female), Age, Questi...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">DHQ3_exp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 302</span></span></span>
<span><span class="co">##   `Respondent ID` `Record Number` `Sex (1=male; 2=female)`   Age</span></span>
<span><span class="co">##             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>               1               1                        1    24</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>               2               2                        2    24</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>               3               3                        2    23</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>               4               4                        2    23</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>               5               5                        2    30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>               6               6                        2    30</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 298 more variables: `Questionnaire Date (YYYYMMDD)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Gram weight (g)` &lt;dbl&gt;, `Energy (kcal)` &lt;dbl&gt;, `*Gluten (g)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Alcohol (g)` &lt;dbl&gt;, `Protein (g)` &lt;dbl&gt;, `*Nitrogen (g)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `*Total protein (g)` &lt;dbl&gt;, `*Animal protein (g)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `*Vegetable protein (g)` &lt;dbl&gt;, `Total fat (g)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `*Solid fat (g)` &lt;dbl&gt;, `Total saturated fatty acids (g)` &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   `Total monounsaturated fatty acids (g)` &lt;dbl&gt;, â€¦</span></span></span></code></pre>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate HEI-2015 score using the dietaryindex package</span></span>
<span><span class="va">HEI2015_DHQ3_exp</span> <span class="op">=</span> <span class="fu"><a href="../reference/HEI2015_DHQ3.html">HEI2015_DHQ3</a></span><span class="op">(</span><span class="va">DHQ3_exp</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">HEI2015_DHQ3_exp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 6 Ã— 16</span></span></span>
<span><span class="co">##   `Respondent ID` TOTALKCAL HEI2015_ALL HEI2015_TOTALFRT HEI2015_FRT HEI2015_VEG</span></span>
<span><span class="co">##             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span>               1     <span style="text-decoration: underline;">1</span>849.        74.7             3.14        5           5   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span>               2     <span style="text-decoration: underline;">1</span>109.        77.9             4.96        5           5   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">3</span>               3     <span style="text-decoration: underline;">2</span>134.        69.5             5           5           5   </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">4</span>               4     <span style="text-decoration: underline;">1</span>170.        77.1             5           5           4.43</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">5</span>               5     <span style="text-decoration: underline;">1</span>238.        63.3             5           5           3.82</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">6</span>               6      759.        59.5             1.32        1.48        3.06</span></span>
<span><span class="co">## <span style="color: #949494;"># â„¹ 10 more variables: HEI2015_GREENNBEAN &lt;dbl&gt;, HEI2015_TOTALPRO &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_SEAPLANTPRO &lt;dbl&gt;, HEI2015_WHOLEGRAIN &lt;dbl&gt;, HEI2015_DAIRY &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_FATTYACID &lt;dbl&gt;, HEI2015_REFINEDGRAIN &lt;dbl&gt;, HEI2015_SODIUM &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   HEI2015_ADDEDSUGAR &lt;dbl&gt;, HEI2015_SATFAT &lt;dbl&gt;</span></span></span></code></pre>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Write the HEI-2015 score calculated by dietaryindex to a csv file</span></span>
<span><span class="fu"><a href="https://readr.tidyverse.org/reference/write_delim.html" class="external-link">write_csv</a></span><span class="op">(</span><span class="va">HEI2015_DHQ3_exp</span>, <span class="st">"HEI2015_DHQ3_dietaryindex.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="produce-validation-figures">produce validation figures<a class="anchor" aria-label="anchor" href="#produce-validation-figures"></a>
</h2>
<div class="section level3">
<h3 id="importing-data-and-load-ggplot-package">importing data and load ggplot package<a class="anchor" aria-label="anchor" href="#importing-data-and-load-ggplot-package"></a>
</h3>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set up working directory</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/Final validation files"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># read in dietaryindex-calculated and hand-calculated validation results</span></span>
<span><span class="va">ACS2020_V1_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"ACS2020_V1_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">24</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">30</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (30): id, gender, kcal, vegetable, vegetable_unique, fruit, fruit_unique...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ACS2020_V2_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"ACS2020_V2_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">24</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">31</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (31): id, gender, kcal, vegetable, vegetable_unique, fruit, fruit_unique...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb80"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AHEI_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"AHEI_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">22</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">41</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (41): id, gender, kcal, vegetable, fruit, whole_grain, nut_legume, n3_fa...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb82"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AHEIP_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"AHEIP_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">32</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (32): id, gender, kcal, vegetable, whole_fruit, white_meat_red_meat, fib...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DASH_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"DASH_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">10</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">29</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (29): id, gender, kcal, fruit, vegetable, nut_legume, whole_grain, low_f...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DASHI_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"DASHI_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">33</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (33): id, gender, kcal, total_fat, sat_fat, protein, cholesterol, fiber,...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DII_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"DII_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">3</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">140</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (140): id, Alcohol, vitamin B12, vitamin B6, Beta-carotene, Caffeine, Ca...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEI2015_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2015_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">45</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (45): id, gender, kcal, total_fruit, whole_fruit, total_vegetable, green...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEI2020_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2020_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">22</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">47</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (47): id, gender, age, kcal, total_fruit, whole_fruit, total_vegetable, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MED_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"MED_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">33</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (33): id, gender, kcal, fruit, vegetable, whole_grain, legume, nut, fish...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MEDI_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"MEDI_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">39</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (39): id, gender, kcal, olive_oil, vegetable, fruit, legume, nut, fish, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MEDI_V2_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"MEDI_V2_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">11</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">39</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (39): id, gender, kcal, olive_oil, vegetable, fruit, legume, nut, fish, ...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PHDI_validation_result</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"PHDI_validation_result.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">26</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">52</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (52): id, gender, TOTALKCAL_PHDI.x, WGRAIN_SERV_PHDI, STARCHY_VEG_SERV_P...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb102"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read in NHANES NCI SAS and dietaryindex-calculated validation results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/HEI2015_NHANES_1718"</span><span class="op">)</span></span>
<span><span class="va">SAS_HEI2015_1718</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"SAS_HEI2015_1718.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">7122</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">16</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (16): SEQN, DR1TKCAL, HEI2015C1_TOTALVEG, HEI2015C2_GREEN_AND_BEAN, HEI2...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dietaryindex_HEI2015_1718</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"dietaryindex_HEI2015_1718.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">7122</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">15</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (15): SEQN, HEI2015_ALL, HEI2015_TOTALFRT, HEI2015_FRT, HEI2015_VEG, HEI...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/HEI2015_ASA24_example_data"</span><span class="op">)</span></span>
<span><span class="va">HEI2015_ASA24_NCI_SAS</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2015_ASA24_NCI_SAS.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">21</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">18</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #BB0000;">chr</span>  (1): UserID</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (17): UserName, RecallNo, KCAL, HEI2015C1_TOTALVEG, HEI2015C2_GREEN_AND_...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEI2015_ASA24_dietaryindex</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2015_ASA24_dietaryindex.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">21</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">17</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #BB0000;">chr</span>  (1): UserID</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (16): UserName, TOTALKCAL, HEI2015_ALL, HEI2015_TOTALFRT, HEI2015_FRT, H...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/james/Library/Mobile Documents/com~apple~CloudDocs/Desktop/Emory University - Ph.D./dietaryindex_package/Validation file for publication/HEI2015_DHQ3_example_data"</span><span class="op">)</span></span>
<span><span class="va">HEI2015_DHQ3_NCI_SAS</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"Sample total daily results.csv"</span>, skip <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">23</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">302</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (302): Respondent ID, Record Number, Sex (1=male; 2=female), Age, Questi...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEI2015_DHQ3_dietaryindex</span> <span class="op">=</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"HEI2015_DHQ3_dietaryindex.csv"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="font-weight: bold;">Rows: </span><span style="color: #0000BB;">23</span> <span style="font-weight: bold;">Columns: </span><span style="color: #0000BB;">16</span></span></span>
<span><span class="co">## <span style="color: #00BBBB;">â”€â”€</span> <span style="font-weight: bold;">Column specification</span> <span style="color: #00BBBB;">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span></span></span>
<span><span class="co">## <span style="font-weight: bold;">Delimiter:</span> ","</span></span>
<span><span class="co">## <span style="color: #00BB00;">dbl</span> (16): Respondent ID, TOTALKCAL, HEI2015_ALL, HEI2015_TOTALFRT, HEI2015_F...</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">â„¹</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span></code></pre>
<div class="sourceCode" id="cb114"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define a function to compute accuracy</span></span>
<span><span class="va">get_accuracy</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># round x to 2 decimal places</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="co"># round y to 2 decimal places</span></span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">y</span>, <span class="fl">2</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="va">y</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Define a function to compute accuracy</span></span>
<span><span class="va">get_accuracy_diff</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># the maximum tolerance for the difference between x and y</span></span>
<span>  <span class="va">tolerance</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span>  <span class="co"># Subtract data1 from data2 (or vice versa) and take the absolute value of the differences</span></span>
<span>  <span class="va">diff</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">y</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span> <span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">diff</span> <span class="op">&lt;=</span> <span class="va">tolerance</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="figure-1--comparison-of-accuracy-dietaryindex-calculated-vs--hand-calculated-dietary-index-values-using-the-simulation-datasets-sample-sizes-range-from-10-to-26-">Figure 1. Comparison of Accuracy: dietaryindex-calculated
vs.Â hand-calculated Dietary Index Values using the simulation datasets
(sample sizes range from 10 to 26).<a class="anchor" aria-label="anchor" href="#figure-1--comparison-of-accuracy-dietaryindex-calculated-vs--hand-calculated-dietary-index-values-using-the-simulation-datasets-sample-sizes-range-from-10-to-26-"></a>
</h3>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">############### Total score of all dietary indexes validation ###############</span></span>
<span><span class="co"># Initialize a data frame to store results for the total dietary index score for all dietary indexes</span></span>
<span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names</span></span>
<span><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  ACS2020_V1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_ALL"</span>, <span class="st">"ACS2020_V1_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  ACS2020_V2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_ALL"</span>, <span class="st">"ACS2020_V2_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  AHEI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_ALL"</span>, <span class="st">"AHEI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  AHEIP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_ALL"</span>, <span class="st">"AHEIP_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  DASH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_ALL"</span>, <span class="st">"DASH_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  DASHI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_ALL"</span>, <span class="st">"DASHI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DII_ALL"</span>, <span class="st">"DII_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2015 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_ALL"</span>, <span class="st">"HEI2015_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_ALL"</span>, <span class="st">"HEI2020_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_ALL"</span>, <span class="st">"MED_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_ALL"</span>, <span class="st">"MEDI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_ALL"</span>, <span class="st">"MEDI_V2_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_ALL"</span>, <span class="st">"PHDI_ALL"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       Dataset Accuracy</span></span>
<span><span class="co">## 1  ACS2020_V1      100</span></span>
<span><span class="co">## 2  ACS2020_V2      100</span></span>
<span><span class="co">## 3        AHEI      100</span></span>
<span><span class="co">## 4       AHEIP      100</span></span>
<span><span class="co">## 5        DASH      100</span></span>
<span><span class="co">## 6       DASHI      100</span></span>
<span><span class="co">## 7         DII      100</span></span>
<span><span class="co">## 8     HEI2015      100</span></span>
<span><span class="co">## 9     HEI2020      100</span></span>
<span><span class="co">## 10        MED      100</span></span>
<span><span class="co">## 11       MEDI      100</span></span>
<span><span class="co">## 12    MEDI_V2      100</span></span>
<span><span class="co">## 13       PHDI      100</span></span></code></pre>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span> </span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-7-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="figure-2--accuracy-of-hei2015-in-nhanes-dietaryindex-calculated-vs--sas-calculated-results-from-national-cancer-institute-using-the-nhanes-2017-2018-data-n7122">Figure 2. Accuracy of HEI2015 in NHANES: dietaryindex-calculated
vs.Â SAS-calculated results from National Cancer Institute using the
NHANES 2017-2018 data (n=7122)<a class="anchor" aria-label="anchor" href="#figure-2--accuracy-of-hei2015-in-nhanes-dietaryindex-calculated-vs--sas-calculated-results-from-national-cancer-institute-using-the-nhanes-2017-2018-data-n7122"></a>
</h3>
<div class="sourceCode" id="cb118"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">###################### HEI2015 validation in NHANES using dietaryindex-calculated results vs. National Cancer Institute (NCI) SAS results ######################</span></span>
<span><span class="co"># Initialize a data frame to store results for all HEI2015_1718 results</span></span>
<span><span class="va">results_HEI2015_1718</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a list with SAS_HEI2015_1718 and dietaryindex_HEI2015_1718</span></span>
<span><span class="va">datasets_HEI2015_1718</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    HEI2015_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015_TOTAL_SCORE"</span>, <span class="st">"HEI2015_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALFRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C3_TOTALFRUIT"</span>, <span class="st">"HEI2015_TOTALFRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C4_WHOLEFRUIT"</span>, <span class="st">"HEI2015_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C1_TOTALVEG"</span>, <span class="st">"HEI2015_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_GREENNBEAN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C2_GREEN_AND_BEAN"</span>, <span class="st">"HEI2015_GREENNBEAN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C7_TOTPROT"</span>, <span class="st">"HEI2015_TOTALPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SEAPLANTPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C8_SEAPLANT_PROT"</span>, <span class="st">"HEI2015_SEAPLANTPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_WHOLEGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C5_WHOLEGRAIN"</span>, <span class="st">"HEI2015_WHOLEGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C6_TOTALDAIRY"</span>, <span class="st">"HEI2015_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FATTYACID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C9_FATTYACID"</span>, <span class="st">"HEI2015_FATTYACID"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_REFINEDGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C11_REFINEDGRAIN"</span>, <span class="st">"HEI2015_REFINEDGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C10_SODIUM"</span>, <span class="st">"HEI2015_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_ADDEDSUGAR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C13_ADDSUG"</span>, <span class="st">"HEI2015_ADDEDSUGAR"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SATFAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">SAS_HEI2015_1718</span>, data2 <span class="op">=</span> <span class="va">dietaryindex_HEI2015_1718</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C12_SFAT"</span>, <span class="st">"HEI2015_SATFAT"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in PHDI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_HEI2015_1718</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_HEI2015_1718</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">data1_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data1</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="co"># Convert to numeric</span></span>
<span>  <span class="va">data2_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data2</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="co"># Convert to numeric</span></span>
<span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">data1_values</span>, <span class="va">data2_values</span><span class="op">)</span></span>
<span>  <span class="va">results_HEI2015_1718</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_HEI2015_1718</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Component <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_HEI2015_1718</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Component  Accuracy</span></span>
<span><span class="co">## 1           HEI2015_ALL 100.00000</span></span>
<span><span class="co">## 2      HEI2015_TOTALFRT 100.00000</span></span>
<span><span class="co">## 3           HEI2015_FRT 100.00000</span></span>
<span><span class="co">## 4           HEI2015_VEG 100.00000</span></span>
<span><span class="co">## 5    HEI2015_GREENNBEAN 100.00000</span></span>
<span><span class="co">## 6      HEI2015_TOTALPRO 100.00000</span></span>
<span><span class="co">## 7   HEI2015_SEAPLANTPRO 100.00000</span></span>
<span><span class="co">## 8    HEI2015_WHOLEGRAIN 100.00000</span></span>
<span><span class="co">## 9         HEI2015_DAIRY 100.00000</span></span>
<span><span class="co">## 10    HEI2015_FATTYACID 100.00000</span></span>
<span><span class="co">## 11 HEI2015_REFINEDGRAIN  99.98596</span></span>
<span><span class="co">## 12       HEI2015_SODIUM  99.95788</span></span>
<span><span class="co">## 13   HEI2015_ADDEDSUGAR 100.00000</span></span>
<span><span class="co">## 14       HEI2015_SATFAT  99.95788</span></span></code></pre>
<div class="sourceCode" id="cb120"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_HEI2015_1718</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Component</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Component</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Accuracy of HEI2015 in NHANES: dietaryindex-calculated vs. SAS-calculated Dietary Index Values from NCI"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-8-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="figure-3--accuracy-of-hei2015-in-asa24-dietaryindex-calculated-vs--sas-calculated-results-from-national-cancer-institute-using-the-asa24-example-data-n21-">Figure 3. Accuracy of HEI2015 in ASA24: dietaryindex-calculated
vs.Â SAS-calculated results from National Cancer Institute using the
ASA24 example data (n=21).<a class="anchor" aria-label="anchor" href="#figure-3--accuracy-of-hei2015-in-asa24-dietaryindex-calculated-vs--sas-calculated-results-from-national-cancer-institute-using-the-asa24-example-data-n21-"></a>
</h3>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">###################### HEI2015 validation in ASA24 using dietaryindex-calculated results vs. National Cancer Institute (NCI) SAS results ######################</span></span>
<span><span class="co"># Initialize a data frame to store results for all HEI2015_ASA24 results</span></span>
<span><span class="va">results_HEI2015_ASA24</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">HEI2015_ASA24_NCI_SAS</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "UserName"                 "UserID"                  </span></span>
<span><span class="co">##  [3] "RecallNo"                 "KCAL"                    </span></span>
<span><span class="co">##  [5] "HEI2015C1_TOTALVEG"       "HEI2015C2_GREEN_AND_BEAN"</span></span>
<span><span class="co">##  [7] "HEI2015C3_TOTALFRUIT"     "HEI2015C4_WHOLEFRUIT"    </span></span>
<span><span class="co">##  [9] "HEI2015C5_WHOLEGRAIN"     "HEI2015C6_TOTALDAIRY"    </span></span>
<span><span class="co">## [11] "HEI2015C7_TOTPROT"        "HEI2015C8_SEAPLANT_PROT" </span></span>
<span><span class="co">## [13] "HEI2015C9_FATTYACID"      "HEI2015C10_SODIUM"       </span></span>
<span><span class="co">## [15] "HEI2015C11_REFINEDGRAIN"  "HEI2015C12_SFAT"         </span></span>
<span><span class="co">## [17] "HEI2015C13_ADDSUG"        "HEI2015_TOTAL_SCORE"</span></span></code></pre>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">HEI2015_ASA24_dietaryindex</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "UserName"             "UserID"               "TOTALKCAL"           </span></span>
<span><span class="co">##  [4] "HEI2015_ALL"          "HEI2015_TOTALFRT"     "HEI2015_FRT"         </span></span>
<span><span class="co">##  [7] "HEI2015_VEG"          "HEI2015_GREENNBEAN"   "HEI2015_TOTALPRO"    </span></span>
<span><span class="co">## [10] "HEI2015_SEAPLANTPRO"  "HEI2015_WHOLEGRAIN"   "HEI2015_DAIRY"       </span></span>
<span><span class="co">## [13] "HEI2015_FATTYACID"    "HEI2015_REFINEDGRAIN" "HEI2015_SODIUM"      </span></span>
<span><span class="co">## [16] "HEI2015_ADDEDSUGAR"   "HEI2015_SATFAT"</span></span></code></pre>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a list with HEI2015_ASA24_NCI_SAS and HEI2015_ASA24_dietaryindex</span></span>
<span><span class="va">datasets_HEI2015_ASA24</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    HEI2015_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015_TOTAL_SCORE"</span>, <span class="st">"HEI2015_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALFRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C3_TOTALFRUIT"</span>, <span class="st">"HEI2015_TOTALFRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C4_WHOLEFRUIT"</span>, <span class="st">"HEI2015_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C1_TOTALVEG"</span>, <span class="st">"HEI2015_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_GREENNBEAN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C2_GREEN_AND_BEAN"</span>, <span class="st">"HEI2015_GREENNBEAN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C7_TOTPROT"</span>, <span class="st">"HEI2015_TOTALPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SEAPLANTPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C8_SEAPLANT_PROT"</span>, <span class="st">"HEI2015_SEAPLANTPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_WHOLEGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C5_WHOLEGRAIN"</span>, <span class="st">"HEI2015_WHOLEGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C6_TOTALDAIRY"</span>, <span class="st">"HEI2015_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FATTYACID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C9_FATTYACID"</span>, <span class="st">"HEI2015_FATTYACID"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_REFINEDGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C11_REFINEDGRAIN"</span>, <span class="st">"HEI2015_REFINEDGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C10_SODIUM"</span>, <span class="st">"HEI2015_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_ADDEDSUGAR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C13_ADDSUG"</span>, <span class="st">"HEI2015_ADDEDSUGAR"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SATFAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_ASA24_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_ASA24_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI2015C12_SFAT"</span>, <span class="st">"HEI2015_SATFAT"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in PHDI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_HEI2015_ASA24</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_HEI2015_ASA24</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">data1_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data1</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="co"># Convert to numeric</span></span>
<span>  <span class="va">data2_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data2</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="co"># Convert to numeric</span></span>
<span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">data1_values</span>, <span class="va">data2_values</span><span class="op">)</span></span>
<span>  <span class="va">results_HEI2015_ASA24</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_HEI2015_ASA24</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Component <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_HEI2015_ASA24</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Component Accuracy</span></span>
<span><span class="co">## 1           HEI2015_ALL      100</span></span>
<span><span class="co">## 2      HEI2015_TOTALFRT      100</span></span>
<span><span class="co">## 3           HEI2015_FRT      100</span></span>
<span><span class="co">## 4           HEI2015_VEG      100</span></span>
<span><span class="co">## 5    HEI2015_GREENNBEAN      100</span></span>
<span><span class="co">## 6      HEI2015_TOTALPRO      100</span></span>
<span><span class="co">## 7   HEI2015_SEAPLANTPRO      100</span></span>
<span><span class="co">## 8    HEI2015_WHOLEGRAIN      100</span></span>
<span><span class="co">## 9         HEI2015_DAIRY      100</span></span>
<span><span class="co">## 10    HEI2015_FATTYACID      100</span></span>
<span><span class="co">## 11 HEI2015_REFINEDGRAIN      100</span></span>
<span><span class="co">## 12       HEI2015_SODIUM      100</span></span>
<span><span class="co">## 13   HEI2015_ADDEDSUGAR      100</span></span>
<span><span class="co">## 14       HEI2015_SATFAT      100</span></span></code></pre>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_HEI2015_ASA24</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Component</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Component</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Accuracy of HEI2015 in ASA24: dietaryindex-calculated vs. SAS-calculated Dietary Index Values from NCI"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-9-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="figure-4--accuracy-of-hei2015-in-dhq3-dietaryindex-calculated-vs--internal-calculated-results-from-national-cancer-institute-using-the-dhq3-example-data-n23-">Figure 4. Accuracy of HEI2015 in DHQ3: dietaryindex-calculated
vs.Â internal-calculated results from National Cancer Institute using the
DHQ3 example data (n=23).<a class="anchor" aria-label="anchor" href="#figure-4--accuracy-of-hei2015-in-dhq3-dietaryindex-calculated-vs--internal-calculated-results-from-national-cancer-institute-using-the-dhq3-example-data-n23-"></a>
</h3>
<div class="sourceCode" id="cb128"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">############### HEI2015 validation in DHQ3 using dietaryindex-calculated results vs. National Cancer Institute (NCI) SAS results ######################</span></span>
<span><span class="co"># Initialize a data frame to store results for all HEI2015_DHQ3 results</span></span>
<span><span class="va">results_HEI2015_DHQ3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">HEI2015_DHQ3_NCI_SAS</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   [1] "Respondent ID"                                                                        </span></span>
<span><span class="co">##   [2] "Record Number"                                                                        </span></span>
<span><span class="co">##   [3] "Sex (1=male; 2=female)"                                                               </span></span>
<span><span class="co">##   [4] "Age"                                                                                  </span></span>
<span><span class="co">##   [5] "Questionnaire Date (YYYYMMDD)"                                                        </span></span>
<span><span class="co">##   [6] "Gram weight (g)"                                                                      </span></span>
<span><span class="co">##   [7] "Energy (kcal)"                                                                        </span></span>
<span><span class="co">##   [8] "*Gluten (g)"                                                                          </span></span>
<span><span class="co">##   [9] "Alcohol (g)"                                                                          </span></span>
<span><span class="co">##  [10] "Protein (g)"                                                                          </span></span>
<span><span class="co">##  [11] "*Nitrogen (g)"                                                                        </span></span>
<span><span class="co">##  [12] "*Total protein (g)"                                                                   </span></span>
<span><span class="co">##  [13] "*Animal protein (g)"                                                                  </span></span>
<span><span class="co">##  [14] "*Vegetable protein (g)"                                                               </span></span>
<span><span class="co">##  [15] "Total fat (g)"                                                                        </span></span>
<span><span class="co">##  [16] "*Solid fat (g)"                                                                       </span></span>
<span><span class="co">##  [17] "Total saturated fatty acids (g)"                                                      </span></span>
<span><span class="co">##  [18] "Total monounsaturated fatty acids (g)"                                                </span></span>
<span><span class="co">##  [19] "Total polyunsaturated fatty acids (g)"                                                </span></span>
<span><span class="co">##  [20] "*Total saturated fatty acids (g)"                                                     </span></span>
<span><span class="co">##  [21] "*Total monounsaturated fatty acids (g)"                                               </span></span>
<span><span class="co">##  [22] "*Total polyunsaturated fatty acids (g)"                                               </span></span>
<span><span class="co">##  [23] "*Polyunsaturated to saturated fatty acid ratio"                                       </span></span>
<span><span class="co">##  [24] "Cholesterol (mg)"                                                                     </span></span>
<span><span class="co">##  [25] "*Cholesterol to saturated fatty acid index"                                           </span></span>
<span><span class="co">##  [26] "Carbohydrate (g)"                                                                     </span></span>
<span><span class="co">##  [27] "Total sugars (g)"                                                                     </span></span>
<span><span class="co">##  [28] "*Total sugars (g)"                                                                    </span></span>
<span><span class="co">##  [29] "*Added sugars (g)"                                                                    </span></span>
<span><span class="co">##  [30] "*Added sugars by total sugars (g)"                                                    </span></span>
<span><span class="co">##  [31] "*Available carbohydrate (g)"                                                          </span></span>
<span><span class="co">##  [32] "*Glycemic load (glucose reference)"                                                   </span></span>
<span><span class="co">##  [33] "*Glycemic load (bread reference)"                                                     </span></span>
<span><span class="co">##  [34] "*Fructose (g)"                                                                        </span></span>
<span><span class="co">##  [35] "*Galactose (g)"                                                                       </span></span>
<span><span class="co">##  [36] "*Glucose (g)"                                                                         </span></span>
<span><span class="co">##  [37] "*Lactose (g)"                                                                         </span></span>
<span><span class="co">##  [38] "*Maltose (g)"                                                                         </span></span>
<span><span class="co">##  [39] "*Sucrose (g)"                                                                         </span></span>
<span><span class="co">##  [40] "*Starch (g)"                                                                          </span></span>
<span><span class="co">##  [41] "Dietary fiber (g)"                                                                    </span></span>
<span><span class="co">##  [42] "*Total dietary fiber (g)"                                                             </span></span>
<span><span class="co">##  [43] "*Soluble dietary fiber (g)"                                                           </span></span>
<span><span class="co">##  [44] "*Insoluble dietary fiber (g)"                                                         </span></span>
<span><span class="co">##  [45] "*Pectins (g)"                                                                         </span></span>
<span><span class="co">##  [46] "Retinol (mcg)"                                                                        </span></span>
<span><span class="co">##  [47] "*Total vitamin A activity (International Units) (IU)"                                 </span></span>
<span><span class="co">##  [48] "Vitamin A, retinol activity (mcg)"                                                    </span></span>
<span><span class="co">##  [49] "*Total vitamin A activity (RE) (mcg)"                                                 </span></span>
<span><span class="co">##  [50] "Beta-carotene (mcg)"                                                                  </span></span>
<span><span class="co">##  [51] "*Beta-carotene (mcg)"                                                                 </span></span>
<span><span class="co">##  [52] "Alpha-carotene (mcg)"                                                                 </span></span>
<span><span class="co">##  [53] "Beta-cryptoxanthin (mcg)"                                                             </span></span>
<span><span class="co">##  [54] "Lutein + zeaxanthin (mcg)"                                                            </span></span>
<span><span class="co">##  [55] "Lycopene (mcg)"                                                                       </span></span>
<span><span class="co">##  [56] "Vitamin E as alpha-tocopherol (mg)"                                                   </span></span>
<span><span class="co">##  [57] "*Vitamin E (Alpha Tocopherol) (mg)"                                                   </span></span>
<span><span class="co">##  [58] "Added alpha-tocopherol (mg)"                                                          </span></span>
<span><span class="co">##  [59] "*Total alpha-tocopherol (mg)"                                                         </span></span>
<span><span class="co">##  [60] "*Beta-tocopherol (mg)"                                                                </span></span>
<span><span class="co">##  [61] "*Gamma-tocopherol (mg)"                                                               </span></span>
<span><span class="co">##  [62] "*Delta-tocopherol (mg)"                                                               </span></span>
<span><span class="co">##  [63] "*Vitamin E (International Units) (IU)"                                                </span></span>
<span><span class="co">##  [64] "*Natural alpha-tocopherol (RRR-alpha-tocopherol or d-alpha-tocopherol) (mg)"          </span></span>
<span><span class="co">##  [65] "*Synthetic alpha-tocopherol (all rac-alpha-tocopherol or dl-alpha-tocopherol) (mg)"   </span></span>
<span><span class="co">##  [66] "Vitamin K (mcg)"                                                                      </span></span>
<span><span class="co">##  [67] "Vitamin C (mg)"                                                                       </span></span>
<span><span class="co">##  [68] "Thiamin (Vitamin B1) (mg)"                                                            </span></span>
<span><span class="co">##  [69] "Riboflavin (Vitamin B2) (mg)"                                                         </span></span>
<span><span class="co">##  [70] "Niacin (mg)"                                                                          </span></span>
<span><span class="co">##  [71] "*Niacin (mg)"                                                                         </span></span>
<span><span class="co">##  [72] "Vitamin B6 (mg)"                                                                      </span></span>
<span><span class="co">##  [73] "Total folate (mcg)"                                                                   </span></span>
<span><span class="co">##  [74] "Folate, dietary folate (mcg)"                                                         </span></span>
<span><span class="co">##  [75] "Food folate (mcg)"                                                                    </span></span>
<span><span class="co">##  [76] "Folic acid (mcg)"                                                                     </span></span>
<span><span class="co">##  [77] "Vitamin B12 (mcg)"                                                                    </span></span>
<span><span class="co">##  [78] "Added vitamin B12 (mcg)"                                                              </span></span>
<span><span class="co">##  [79] "*Pantothenic acid (mg)"                                                               </span></span>
<span><span class="co">##  [80] "Vitamin D (D2 + D3) (mcg)"                                                            </span></span>
<span><span class="co">##  [81] "*Vitamin D (calciferol) (mcg)"                                                        </span></span>
<span><span class="co">##  [82] "*Vitamin D (ergocalciferol) (mcg)"                                                    </span></span>
<span><span class="co">##  [83] "*Vitamin D (cholecalciferol (mcg)"                                                    </span></span>
<span><span class="co">##  [84] "Calcium (mg)"                                                                         </span></span>
<span><span class="co">##  [85] "Phosphorus (mg)"                                                                      </span></span>
<span><span class="co">##  [86] "Magnesium (mg)"                                                                       </span></span>
<span><span class="co">##  [87] "Iron (mg)"                                                                            </span></span>
<span><span class="co">##  [88] "Zinc (mg)"                                                                            </span></span>
<span><span class="co">##  [89] "Copper (mg)"                                                                          </span></span>
<span><span class="co">##  [90] "Selenium (mcg)"                                                                       </span></span>
<span><span class="co">##  [91] "Sodium (mg)"                                                                          </span></span>
<span><span class="co">##  [92] "Potassium (mg)"                                                                       </span></span>
<span><span class="co">##  [93] "*Manganese (mg)"                                                                      </span></span>
<span><span class="co">##  [94] "SFA 4:0 (Butanoic) (g)"                                                               </span></span>
<span><span class="co">##  [95] "SFA 6:0 (Hexanoic) (g)"                                                               </span></span>
<span><span class="co">##  [96] "SFA 8:0 (Octanoic) (g)"                                                               </span></span>
<span><span class="co">##  [97] "SFA 10:0 (Decanoic) (g)"                                                              </span></span>
<span><span class="co">##  [98] "SFA 12:0 (Dodecanoic) (g)"                                                            </span></span>
<span><span class="co">##  [99] "SFA 14:0 (Tetradecanoic) (g)"                                                         </span></span>
<span><span class="co">## [100] "SFA 16:0 (Hexadecanoic) (g)"                                                          </span></span>
<span><span class="co">## [101] "*SFA 17:0 (margaric acid) (g)"                                                        </span></span>
<span><span class="co">## [102] "SFA 18:0 (Octadecanoic) (g)"                                                          </span></span>
<span><span class="co">## [103] "*SFA 20:0 (arachidic acid) (g)"                                                       </span></span>
<span><span class="co">## [104] "*SFA 22:0 (behenic acid) (g)"                                                         </span></span>
<span><span class="co">## [105] "MFA 16:1 (Hexadecenoic) (g)"                                                          </span></span>
<span><span class="co">## [106] "MFA 18:1 (Octadecenoic) (g)"                                                          </span></span>
<span><span class="co">## [107] "MFA 20:1 (Eicosenoic) (g)"                                                            </span></span>
<span><span class="co">## [108] "MFA 22:1 (Docosenoic) (g)"                                                            </span></span>
<span><span class="co">## [109] "*MFA 14:1 (Myristoleic) (g)"                                                          </span></span>
<span><span class="co">## [110] "PFA 18:2 (Octadecadienoic) (g)"                                                       </span></span>
<span><span class="co">## [111] "PFA 18:3 (Octadecatrienoic) (g)"                                                      </span></span>
<span><span class="co">## [112] "*PFA 18:3 N3 (Alpha linolenic) (g)"                                                   </span></span>
<span><span class="co">## [113] "PFA 18:4 (Octadecatetraenoic) (g)"                                                    </span></span>
<span><span class="co">## [114] "PFA 20:4 (Eicosatetraenoic) (g)"                                                      </span></span>
<span><span class="co">## [115] "PFA 20:5 (Eicosapentaenoic) (g)"                                                      </span></span>
<span><span class="co">## [116] "PFA 22:5 (Docosapentaenoic) (g)"                                                      </span></span>
<span><span class="co">## [117] "PFA 22:6 (Docosahexaenoic) (g)"                                                       </span></span>
<span><span class="co">## [118] "*Trans 18:1 (Trans-octadecenoic acid [elaidic acid]) (g)"                             </span></span>
<span><span class="co">## [119] "*Trans 18:2 (Trans-octadecadienoic acid [linolelaidic acid]; incl. c-t, t-c, t-t) (g)"</span></span>
<span><span class="co">## [120] "*Trans 16:1 (Trans-hexadecenoic acid) (g)"                                            </span></span>
<span><span class="co">## [121] "*Total trans fatty acitds (g)"                                                        </span></span>
<span><span class="co">## [122] "*Omega-3 fatty acids (g)"                                                             </span></span>
<span><span class="co">## [123] "*CLA 18:2 (Linoleic) (g)"                                                             </span></span>
<span><span class="co">## [124] "*CLA cis9 trans11 (g)"                                                                </span></span>
<span><span class="co">## [125] "*CLA trans10 cis12 (g)"                                                               </span></span>
<span><span class="co">## [126] "*Tryptophan (g)"                                                                      </span></span>
<span><span class="co">## [127] "*Threonine (g)"                                                                       </span></span>
<span><span class="co">## [128] "*Isoleucine (g)"                                                                      </span></span>
<span><span class="co">## [129] "*Leucine (g)"                                                                         </span></span>
<span><span class="co">## [130] "*Lysine (g)"                                                                          </span></span>
<span><span class="co">## [131] "*Methionine (g)"                                                                      </span></span>
<span><span class="co">## [132] "*Cystine (g)"                                                                         </span></span>
<span><span class="co">## [133] "*Phenylalanine (g)"                                                                   </span></span>
<span><span class="co">## [134] "*Tyrosine (g)"                                                                        </span></span>
<span><span class="co">## [135] "*Valine (g)"                                                                          </span></span>
<span><span class="co">## [136] "*Arginine (g)"                                                                        </span></span>
<span><span class="co">## [137] "*Histidine (g)"                                                                       </span></span>
<span><span class="co">## [138] "*Alanine (g)"                                                                         </span></span>
<span><span class="co">## [139] "*Aspartic acid (g)"                                                                   </span></span>
<span><span class="co">## [140] "*Glutamin acid (g)"                                                                   </span></span>
<span><span class="co">## [141] "*Glycine (g)"                                                                         </span></span>
<span><span class="co">## [142] "*Proline (g)"                                                                         </span></span>
<span><span class="co">## [143] "*Serine (g)"                                                                          </span></span>
<span><span class="co">## [144] "*Daidzein (mg)"                                                                       </span></span>
<span><span class="co">## [145] "*Genistein (mg)"                                                                      </span></span>
<span><span class="co">## [146] "*Glycitein (mg)"                                                                      </span></span>
<span><span class="co">## [147] "*Coumestrol (mg)"                                                                     </span></span>
<span><span class="co">## [148] "*Biochanin A (mg)"                                                                    </span></span>
<span><span class="co">## [149] "*Formononetin (mg)"                                                                   </span></span>
<span><span class="co">## [150] "*Erythritol (g)"                                                                      </span></span>
<span><span class="co">## [151] "*Inositol (g)"                                                                        </span></span>
<span><span class="co">## [152] "*Isomalt (g)"                                                                         </span></span>
<span><span class="co">## [153] "*Lactitol (g)"                                                                        </span></span>
<span><span class="co">## [154] "*Maltitol (g)"                                                                        </span></span>
<span><span class="co">## [155] "*Mannitol (g)"                                                                        </span></span>
<span><span class="co">## [156] "*Pinitol (g)"                                                                         </span></span>
<span><span class="co">## [157] "*Sorbitol (g)"                                                                        </span></span>
<span><span class="co">## [158] "*Xylitol (g)"                                                                         </span></span>
<span><span class="co">## [159] "Caffeine (mg)"                                                                        </span></span>
<span><span class="co">## [160] "Theobromine (mg)"                                                                     </span></span>
<span><span class="co">## [161] "Moisture (g)"                                                                         </span></span>
<span><span class="co">## [162] "*Water (g)"                                                                           </span></span>
<span><span class="co">## [163] "Total Choline (mg)"                                                                   </span></span>
<span><span class="co">## [164] "*Aspartame (mg)"                                                                      </span></span>
<span><span class="co">## [165] "*Saccharin (mg)"                                                                      </span></span>
<span><span class="co">## [166] "*Phytic acid (mg)"                                                                    </span></span>
<span><span class="co">## [167] "*Oxalic acid (mg)"                                                                    </span></span>
<span><span class="co">## [168] "*3-Methylhistidine (mg)"                                                              </span></span>
<span><span class="co">## [169] "*Sucrose polyester (g)"                                                               </span></span>
<span><span class="co">## [170] "*Ash (g)"                                                                             </span></span>
<span><span class="co">## [171] "*Acesulfame potassium (mg)"                                                           </span></span>
<span><span class="co">## [172] "*Sucralose (mg)"                                                                      </span></span>
<span><span class="co">## [173] "*Tagatose (g)"                                                                        </span></span>
<span><span class="co">## [174] "*Betaine (mg)"                                                                        </span></span>
<span><span class="co">## [175] "Citrus, melon, berry fruit (cups)"                                                    </span></span>
<span><span class="co">## [176] "Other fruit (cups)"                                                                   </span></span>
<span><span class="co">## [177] "Fruits (cups)"                                                                        </span></span>
<span><span class="co">## [178] "Juice fruit (cups)"                                                                   </span></span>
<span><span class="co">## [179] "Total fruit (cups)"                                                                   </span></span>
<span><span class="co">## [180] "Dark-green vegetable (cups)"                                                          </span></span>
<span><span class="co">## [181] "Red/orange tomato vegetable (cups)"                                                   </span></span>
<span><span class="co">## [182] "Red/orange other vegetable (cups)"                                                    </span></span>
<span><span class="co">## [183] "Total red/orange vegetable (cups)"                                                    </span></span>
<span><span class="co">## [184] "White potato starchy vegetable (cups)"                                                </span></span>
<span><span class="co">## [185] "Other starchy vegetable (cups)"                                                       </span></span>
<span><span class="co">## [186] "Total starchy vegetable (cups)"                                                       </span></span>
<span><span class="co">## [187] "Other vegetable (cups)"                                                               </span></span>
<span><span class="co">## [188] "Total vegetable (cups)"                                                               </span></span>
<span><span class="co">## [189] "Legumes vegetable (cups)"                                                             </span></span>
<span><span class="co">## [190] "Whole grain (oz)"                                                                     </span></span>
<span><span class="co">## [191] "Refined grain (oz)"                                                                   </span></span>
<span><span class="co">## [192] "Total number of grain (oz)"                                                           </span></span>
<span><span class="co">## [193] "Meat from beef, pork, veal, lamb, and game protein foods (oz)"                        </span></span>
<span><span class="co">## [194] "Cured meat protein foods (oz)"                                                        </span></span>
<span><span class="co">## [195] "Meat from organ meat protein foods (oz)"                                              </span></span>
<span><span class="co">## [196] "Poultry protein foods (oz)"                                                           </span></span>
<span><span class="co">## [197] "Seafood high in omega-3 protein foods (oz)"                                           </span></span>
<span><span class="co">## [198] "Seafood low in omega-3 protein foods (oz)"                                            </span></span>
<span><span class="co">## [199] "Seafood (oz)"                                                                         </span></span>
<span><span class="co">## [200] "Total meat, poultry, seafood protein foods (oz)"                                      </span></span>
<span><span class="co">## [201] "Eggs protein foods (oz)"                                                              </span></span>
<span><span class="co">## [202] "Meat, poultry, and eggs (oz)"                                                         </span></span>
<span><span class="co">## [203] "Soy products protein foods (oz)"                                                      </span></span>
<span><span class="co">## [204] "Nuts and seeds protein foods (oz)"                                                    </span></span>
<span><span class="co">## [205] "Legumes protein foods (oz)"                                                           </span></span>
<span><span class="co">## [206] "Nuts, seeds, soy, and legumes (oz)"                                                   </span></span>
<span><span class="co">## [207] "Total protein foods (oz)"                                                             </span></span>
<span><span class="co">## [208] "Milk (cups)"                                                                          </span></span>
<span><span class="co">## [209] "Yogurt (cups)"                                                                        </span></span>
<span><span class="co">## [210] "Cheese (cups)"                                                                        </span></span>
<span><span class="co">## [211] "Total dairy (cups)"                                                                   </span></span>
<span><span class="co">## [212] "Oil (g)"                                                                              </span></span>
<span><span class="co">## [213] "Solid fat (g)"                                                                        </span></span>
<span><span class="co">## [214] "Added sugars (tsp)"                                                                   </span></span>
<span><span class="co">## [215] "Alcohol (drink(s))"                                                                   </span></span>
<span><span class="co">## [216] "Energy from fat (% kcal)"                                                             </span></span>
<span><span class="co">## [217] "Energy from carbohydrates (% kcal)"                                                   </span></span>
<span><span class="co">## [218] "Energy from protein (% kcal)"                                                         </span></span>
<span><span class="co">## [219] "Energy from alcohol (% kcal)"                                                         </span></span>
<span><span class="co">## [220] "Energy from saturated fatty acids (% kcal)"                                           </span></span>
<span><span class="co">## [221] "Energy from monounsaturated fatty acids (% kcal)"                                     </span></span>
<span><span class="co">## [222] "Energy from polyunsaturated fatty acids (% kcal)"                                     </span></span>
<span><span class="co">## [223] "SUPP_ENERGY_KCAL_DSID"                                                                </span></span>
<span><span class="co">## [224] "SUPP_PROTEIN_G_DSID"                                                                  </span></span>
<span><span class="co">## [225] "SUPP_TOTAL_FAT_G_DSID"                                                                </span></span>
<span><span class="co">## [226] "SUPP_TOTAL_POLYUNSATURATED_FATTY_ACIDS_G_DSID"                                        </span></span>
<span><span class="co">## [227] "SUPP_CHOLESTEROL_MG_DSID"                                                             </span></span>
<span><span class="co">## [228] "SUPP_CARBOHYDRATE_G_DSID"                                                             </span></span>
<span><span class="co">## [229] "SUPP_TOTAL_SUGARS_G_DSID"                                                             </span></span>
<span><span class="co">## [230] "SUPP_DIETARY_FIBER_G_DSID"                                                            </span></span>
<span><span class="co">## [231] "SUPP_SOLUBLE_DIETARY_FIBER_G_DSID"                                                    </span></span>
<span><span class="co">## [232] "SUPP_TOTAL_VITAMIN_A_ACTIVITY_IU_DSID"                                                </span></span>
<span><span class="co">## [233] "SUPP_VITAMIN_A_RAE_MCG_DSID"                                                          </span></span>
<span><span class="co">## [234] "SUPP_BETA_CAROTENE_PERCENT_DSID"                                                      </span></span>
<span><span class="co">## [235] "SUPP_LUTEIN_ZEAXANTHIN_MCG_DSID"                                                      </span></span>
<span><span class="co">## [236] "SUPP_LYCOPENE_MCG_DSID"                                                               </span></span>
<span><span class="co">## [237] "SUPP_BIOTIN_MCG_DSID"                                                                 </span></span>
<span><span class="co">## [238] "SUPP_VITAMIN_E_AS_ALPHA_TOCOPHEROL_MG_DSID"                                           </span></span>
<span><span class="co">## [239] "SUPP_VITAMIN_E_IU_DSID"                                                               </span></span>
<span><span class="co">## [240] "SUPP_VITAMIN_K_MCG_DSID"                                                              </span></span>
<span><span class="co">## [241] "SUPP_VITAMIN_C_MG_DSID"                                                               </span></span>
<span><span class="co">## [242] "SUPP_THIAMIN_VITAMIN_B1_MG_DSID"                                                      </span></span>
<span><span class="co">## [243] "SUPP_RIBOFLAVIN_VITAMIN_B2_MG_DSID"                                                   </span></span>
<span><span class="co">## [244] "SUPP_NIACIN_MG_DSID"                                                                  </span></span>
<span><span class="co">## [245] "SUPP_VITAMIN_B6_MG_DSID"                                                              </span></span>
<span><span class="co">## [246] "SUPP_FOLATE_DFE_MCG_DSID"                                                             </span></span>
<span><span class="co">## [247] "SUPP_FOLIC_ACID_MCG_DSID"                                                             </span></span>
<span><span class="co">## [248] "SUPP_VITAMIN_B12_MCG_DSID"                                                            </span></span>
<span><span class="co">## [249] "SUPP_PANTOTHENIC_ACID_MG_DSID"                                                        </span></span>
<span><span class="co">## [250] "SUPP_VITAMIN_D_D2+D3_MCG_DSID"                                                        </span></span>
<span><span class="co">## [251] "SUPP_BORON_MCG_DSID"                                                                  </span></span>
<span><span class="co">## [252] "SUPP_CALCIUM_MG_DSID"                                                                 </span></span>
<span><span class="co">## [253] "SUPP_CHLORIDE_MG_DSID"                                                                </span></span>
<span><span class="co">## [254] "SUPP_CHROMIUM_MCG_DSID"                                                               </span></span>
<span><span class="co">## [255] "SUPP_COPPER_MG_DSID"                                                                  </span></span>
<span><span class="co">## [256] "SUPP_FLUORIDE_MG_DSID"                                                                </span></span>
<span><span class="co">## [257] "SUPP_IODINE_MCG_DSID"                                                                 </span></span>
<span><span class="co">## [258] "SUPP_IRON_MG_DSID"                                                                    </span></span>
<span><span class="co">## [259] "SUPP_MAGNESIUM_MG_DSID"                                                               </span></span>
<span><span class="co">## [260] "SUPP_MANGANESE_MG_DSID"                                                               </span></span>
<span><span class="co">## [261] "SUPP_MOLYBDENUM_MCG_DSID"                                                             </span></span>
<span><span class="co">## [262] "SUPP_NICKEL_MCG_DSID"                                                                 </span></span>
<span><span class="co">## [263] "SUPP_PHOSPHORUS_MG_DSID"                                                              </span></span>
<span><span class="co">## [264] "SUPP_POTASSIUM_MG_DSID"                                                               </span></span>
<span><span class="co">## [265] "SUPP_SELENIUM_MCG_DSID"                                                               </span></span>
<span><span class="co">## [266] "SUPP_SILICON_MG_DSID"                                                                 </span></span>
<span><span class="co">## [267] "SUPP_SODIUM_MG_DSID"                                                                  </span></span>
<span><span class="co">## [268] "SUPP_TIN_MCG_DSID"                                                                    </span></span>
<span><span class="co">## [269] "SUPP_VANADIUM_MCG_DSID"                                                               </span></span>
<span><span class="co">## [270] "SUPP_ZINC_MG_DSID"                                                                    </span></span>
<span><span class="co">## [271] "SUPP_PFA_20_5_EICOSAPENTAENOIC_ACID_G_DSID"                                           </span></span>
<span><span class="co">## [272] "SUPP_PFA_22_6_DOCOSAHEXAENOIC_ACID_G_DSID"                                            </span></span>
<span><span class="co">## [273] "SUPP_OMEGA_3_FATTY_ACIDS_G_DSID"                                                      </span></span>
<span><span class="co">## [274] "SUPP_INOSITOL_G_DSID"                                                                 </span></span>
<span><span class="co">## [275] "SUPP_CHOLINE_MG_DSID"                                                                 </span></span>
<span><span class="co">## [276] "Total HEI-2015 Score"                                                                 </span></span>
<span><span class="co">## [277] "HEI-2015 - Total Vegetables - Component Score"                                        </span></span>
<span><span class="co">## [278] "HEI-2015 - Greens and Beans - Component Score"                                        </span></span>
<span><span class="co">## [279] "HEI-2015 - Total Fruits - Component Score"                                            </span></span>
<span><span class="co">## [280] "HEI-2015 - Whole Fruits - Component Score"                                            </span></span>
<span><span class="co">## [281] "HEI-2015 - Whole Grains - Component Score"                                            </span></span>
<span><span class="co">## [282] "HEI-2015 - Dairy - Component Score"                                                   </span></span>
<span><span class="co">## [283] "HEI-2015 - Total Protein Foods - Component Score"                                     </span></span>
<span><span class="co">## [284] "HEI-2015 - Seafood and Plant Proteins - Component Score"                              </span></span>
<span><span class="co">## [285] "HEI-2015 - Fatty Acids - Component Score"                                             </span></span>
<span><span class="co">## [286] "HEI-2015 - Sodium - Component Score"                                                  </span></span>
<span><span class="co">## [287] "HEI-2015 - Refined Grains - Component Score"                                          </span></span>
<span><span class="co">## [288] "HEI-2015 - Saturated Fats - Component Score"                                          </span></span>
<span><span class="co">## [289] "HEI-2015 - Added Sugars - Component Score"                                            </span></span>
<span><span class="co">## [290] "HEI-2015 - Density of Total Vegetables per 1000 Kcal"                                 </span></span>
<span><span class="co">## [291] "HEI-2015 - Density of Greens and Beans per 1000 Kcal"                                 </span></span>
<span><span class="co">## [292] "HEI-2015 - Density of Total Fruits per 1000 Kcal"                                     </span></span>
<span><span class="co">## [293] "HEI-2015 - Density of Whole Fruits per 1000 Kcal"                                     </span></span>
<span><span class="co">## [294] "HEI-2015 - Density of Whole Grains per 1000 Kcal"                                     </span></span>
<span><span class="co">## [295] "HEI-2015 - Density of Dairy per 1000 Kcal"                                            </span></span>
<span><span class="co">## [296] "HEI-2015 - Density of Total Protein Foods per 1000 Kcal"                              </span></span>
<span><span class="co">## [297] "HEI-2015 - Density of Seafood and Plant Proteins per 1000 Kcal"                       </span></span>
<span><span class="co">## [298] "HEI-2015 - Fatty Acid Ratio"                                                          </span></span>
<span><span class="co">## [299] "HEI-2015 - Density of Sodium per 1000 Kcal"                                           </span></span>
<span><span class="co">## [300] "HEI-2015 - Density of Refined Grains per 1000 Kcal"                                   </span></span>
<span><span class="co">## [301] "HEI-2015 - Percent of Calories from Saturated Fats"                                   </span></span>
<span><span class="co">## [302] "HEI-2015 - Percent of Calories from Added Sugars"</span></span></code></pre>
<div class="sourceCode" id="cb130"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">HEI2015_DHQ3_dietaryindex</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "Respondent ID"        "TOTALKCAL"            "HEI2015_ALL"         </span></span>
<span><span class="co">##  [4] "HEI2015_TOTALFRT"     "HEI2015_FRT"          "HEI2015_VEG"         </span></span>
<span><span class="co">##  [7] "HEI2015_GREENNBEAN"   "HEI2015_TOTALPRO"     "HEI2015_SEAPLANTPRO" </span></span>
<span><span class="co">## [10] "HEI2015_WHOLEGRAIN"   "HEI2015_DAIRY"        "HEI2015_FATTYACID"   </span></span>
<span><span class="co">## [13] "HEI2015_REFINEDGRAIN" "HEI2015_SODIUM"       "HEI2015_ADDEDSUGAR"  </span></span>
<span><span class="co">## [16] "HEI2015_SATFAT"</span></span></code></pre>
<div class="sourceCode" id="cb132"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a list with HEI2015_DHQ3_NCI_SAS and HEI2015_DHQ3_dietaryindex</span></span>
<span><span class="va">datasets_HEI2015_DHQ3</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    HEI2015_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Total HEI-2015 Score"</span>, <span class="st">"HEI2015_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALFRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Total Fruits - Component Score"</span>, <span class="st">"HEI2015_TOTALFRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Whole Fruits - Component Score"</span>, <span class="st">"HEI2015_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Total Vegetables - Component Score"</span>, <span class="st">"HEI2015_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_GREENNBEAN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Greens and Beans - Component Score"</span>, <span class="st">"HEI2015_GREENNBEAN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Total Protein Foods - Component Score"</span>, <span class="st">"HEI2015_TOTALPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SEAPLANTPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Seafood and Plant Proteins - Component Score"</span>, <span class="st">"HEI2015_SEAPLANTPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_WHOLEGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Whole Grains - Component Score"</span>, <span class="st">"HEI2015_WHOLEGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Dairy - Component Score"</span>, <span class="st">"HEI2015_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FATTYACID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Fatty Acids - Component Score"</span>, <span class="st">"HEI2015_FATTYACID"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_REFINEDGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Refined Grains - Component Score"</span>, <span class="st">"HEI2015_REFINEDGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Sodium - Component Score"</span>, <span class="st">"HEI2015_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_ADDEDSUGAR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Added Sugars - Component Score"</span>, <span class="st">"HEI2015_ADDEDSUGAR"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SATFAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data1 <span class="op">=</span> <span class="va">HEI2015_DHQ3_NCI_SAS</span>, data2 <span class="op">=</span> <span class="va">HEI2015_DHQ3_dietaryindex</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEI-2015 - Saturated Fats - Component Score"</span>, <span class="st">"HEI2015_SATFAT"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in PHDI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_HEI2015_DHQ3</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_HEI2015_DHQ3</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">data1_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data1</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="co"># Convert to numeric</span></span>
<span>  <span class="va">data2_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data2</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>  <span class="co"># Convert to numeric</span></span>
<span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy_diff</span><span class="op">(</span><span class="va">data1_values</span>, <span class="va">data2_values</span><span class="op">)</span></span>
<span>  <span class="va">results_HEI2015_DHQ3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_HEI2015_DHQ3</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Component <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_HEI2015_DHQ3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Component Accuracy</span></span>
<span><span class="co">## 1           HEI2015_ALL      100</span></span>
<span><span class="co">## 2      HEI2015_TOTALFRT      100</span></span>
<span><span class="co">## 3           HEI2015_FRT      100</span></span>
<span><span class="co">## 4           HEI2015_VEG      100</span></span>
<span><span class="co">## 5    HEI2015_GREENNBEAN      100</span></span>
<span><span class="co">## 6      HEI2015_TOTALPRO      100</span></span>
<span><span class="co">## 7   HEI2015_SEAPLANTPRO      100</span></span>
<span><span class="co">## 8    HEI2015_WHOLEGRAIN      100</span></span>
<span><span class="co">## 9         HEI2015_DAIRY      100</span></span>
<span><span class="co">## 10    HEI2015_FATTYACID      100</span></span>
<span><span class="co">## 11 HEI2015_REFINEDGRAIN      100</span></span>
<span><span class="co">## 12       HEI2015_SODIUM      100</span></span>
<span><span class="co">## 13   HEI2015_ADDEDSUGAR      100</span></span>
<span><span class="co">## 14       HEI2015_SATFAT      100</span></span></code></pre>
<div class="sourceCode" id="cb134"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_HEI2015_DHQ3</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Component</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Component</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Accuracy of HEI2015 in DHQ3: dietaryindex-calculated vs. internal-calculated Dietary Index Values from NCI"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Check if the differences between 2 dietary indexes are within 0.5"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-10-1.png" width="960"></p>
</div>
<div class="section level3">
<h3 id="supplementary-material-3-validation-figures-all-figures-for-the-detailed-validation-of-each-dietary-index-including-the-total-dietary-index-and-individual-component-dietary-indexes-">Supplementary Material 3 Validation Figures: all figures for the
detailed validation of each dietary index, including the total dietary
index and individual component dietary indexes.<a class="anchor" aria-label="anchor" href="#supplementary-material-3-validation-figures-all-figures-for-the-detailed-validation-of-each-dietary-index-including-the-total-dietary-index-and-individual-component-dietary-indexes-"></a>
</h3>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">######## ACS2020_V1 validation ###########################################################</span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in ACS2020_V1</span></span>
<span><span class="va">results_ACS2020_V1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names</span></span>
<span><span class="va">datasets_ACS2020_V1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ACS2020_V1_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_ALL"</span>, <span class="st">"ACS2020_V1_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_VEGETABLE"</span>, <span class="st">"ACS2020_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_VEG_ITEMS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_VEGETABLE_UNIQUE"</span>, <span class="st">"ACS2020_VEG_ITEMS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_FRUIT"</span>, <span class="st">"ACS2020_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_FRT_ITEMS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_FRUIT_UNIQUE"</span>, <span class="st">"ACS2020_FRT_ITEMS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_WGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_WHOLE_GRAIN"</span>, <span class="st">"ACS2020_WGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_REDPROC_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_RED_MEAT"</span>, <span class="st">"ACS2020_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_HPFRG_RATIO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_PROCESSED_FOOD"</span>, <span class="st">"ACS2020_HPFRG_RATIO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_SSB_FRTJ <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V1_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_SSB"</span>, <span class="st">"ACS2020_SSB_FRTJ"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_ACS2020_V1</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_ACS2020_V1</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_ACS2020_V1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_ACS2020_V1</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_ACS2020_V1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                Dataset Accuracy</span></span>
<span><span class="co">## 1       ACS2020_V1_ALL      100</span></span>
<span><span class="co">## 2          ACS2020_VEG      100</span></span>
<span><span class="co">## 3    ACS2020_VEG_ITEMS      100</span></span>
<span><span class="co">## 4          ACS2020_FRT      100</span></span>
<span><span class="co">## 5    ACS2020_FRT_ITEMS      100</span></span>
<span><span class="co">## 6       ACS2020_WGRAIN      100</span></span>
<span><span class="co">## 7 ACS2020_REDPROC_MEAT      100</span></span>
<span><span class="co">## 8  ACS2020_HPFRG_RATIO      100</span></span>
<span><span class="co">## 9     ACS2020_SSB_FRTJ      100</span></span></code></pre>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_ACS2020_V1</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-1.png" width="960"></p>
<div class="sourceCode" id="cb138"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">######### ACS2020_V2 validation ###########################################################</span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in ACS2020_V2</span></span>
<span><span class="va">results_ACS2020_V2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names for ACS2020_V2</span></span>
<span><span class="va">datasets_ACS2020_V2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    ACS2020_V2_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_ALL"</span>, <span class="st">"ACS2020_V2_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_VEGETABLE"</span>, <span class="st">"ACS2020_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_VEG_ITEMS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_VEGETABLE_UNIQUE"</span>, <span class="st">"ACS2020_VEG_ITEMS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_FRUIT"</span>, <span class="st">"ACS2020_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_FRT_ITEMS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_FRUIT_UNIQUE"</span>, <span class="st">"ACS2020_FRT_ITEMS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_WGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_WHOLE_GRAIN"</span>, <span class="st">"ACS2020_WGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_REDPROC_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_RED_MEAT"</span>, <span class="st">"ACS2020_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_HPFRG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_PROCESSED_FOOD"</span>, <span class="st">"ACS2020_HPFRG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ACS2020_SSB_FRTJ <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ACS2020_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ACS_SSB"</span>, <span class="st">"ACS2020_SSB_FRTJ"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in ACS2020_V2</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_ACS2020_V2</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_ACS2020_V2</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_ACS2020_V2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_ACS2020_V2</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_ACS2020_V2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                Dataset Accuracy</span></span>
<span><span class="co">## 1       ACS2020_V2_ALL      100</span></span>
<span><span class="co">## 2          ACS2020_VEG      100</span></span>
<span><span class="co">## 3    ACS2020_VEG_ITEMS      100</span></span>
<span><span class="co">## 4          ACS2020_FRT      100</span></span>
<span><span class="co">## 5    ACS2020_FRT_ITEMS      100</span></span>
<span><span class="co">## 6       ACS2020_WGRAIN      100</span></span>
<span><span class="co">## 7 ACS2020_REDPROC_MEAT      100</span></span>
<span><span class="co">## 8        ACS2020_HPFRG      100</span></span>
<span><span class="co">## 9     ACS2020_SSB_FRTJ      100</span></span></code></pre>
<div class="sourceCode" id="cb140"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_ACS2020_V2</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-2.png" width="960"></p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################# AHEI validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in AHEI</span></span>
<span><span class="va">results_AHEI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names for AHEI</span></span>
<span><span class="va">datasets_AHEI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    AHEI_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_ALL"</span>, <span class="st">"AHEI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_NOETOH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_NOETOH"</span>, <span class="st">"AHEI_NOETOH"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_VEG"</span>, <span class="st">"AHEI_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_FRT"</span>, <span class="st">"AHEI_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_WGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_WGRAIN"</span>, <span class="st">"AHEI_WGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_NUTSLEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_NUTSLEG"</span>, <span class="st">"AHEI_NUTSLEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_N3FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_N3FAT"</span>, <span class="st">"AHEI_N3FAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_PUFA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_PUFA"</span>, <span class="st">"AHEI_PUFA"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_SSB_FRTJ <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_SSB_FRTJ"</span>, <span class="st">"AHEI_SSB_FRTJ"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_REDPROC_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_REDPROC_MEAT"</span>, <span class="st">"AHEI_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_TRANS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_TRANS"</span>, <span class="st">"AHEI_TRANS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_SODIUM"</span>, <span class="st">"AHEI_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEI_ALCOHOL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEI_ALCOHOL"</span>, <span class="st">"AHEI_ALCOHOL"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in AHEI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_AHEI</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_AHEI</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_AHEI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_AHEI</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_AHEI</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##              Dataset Accuracy</span></span>
<span><span class="co">## 1           AHEI_ALL      100</span></span>
<span><span class="co">## 2        AHEI_NOETOH      100</span></span>
<span><span class="co">## 3           AHEI_VEG      100</span></span>
<span><span class="co">## 4           AHEI_FRT      100</span></span>
<span><span class="co">## 5        AHEI_WGRAIN      100</span></span>
<span><span class="co">## 6       AHEI_NUTSLEG      100</span></span>
<span><span class="co">## 7         AHEI_N3FAT      100</span></span>
<span><span class="co">## 8          AHEI_PUFA      100</span></span>
<span><span class="co">## 9      AHEI_SSB_FRTJ      100</span></span>
<span><span class="co">## 10 AHEI_REDPROC_MEAT      100</span></span>
<span><span class="co">## 11        AHEI_TRANS      100</span></span>
<span><span class="co">## 12       AHEI_SODIUM      100</span></span>
<span><span class="co">## 13      AHEI_ALCOHOL      100</span></span></code></pre>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_AHEI</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-3.png" width="960"></p>
<div class="sourceCode" id="cb144"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################# AHEIP validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in AHEIP</span></span>
<span><span class="va">results_AHEIP</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names for AHEIP</span></span>
<span><span class="va">datasets_AHEIP</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    AHEIP_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_ALL"</span>, <span class="st">"AHEIP_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_VEGETABLE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_VEGETABLE"</span>, <span class="st">"AHEIP_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_WHOLE_FRUIT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_WHOLE_FRUIT"</span>, <span class="st">"AHEIP_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_WHITE_MEAT_RED_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_WHITE_MEAT_RED_MEAT"</span>, <span class="st">"AHEIP_WHITEREAD"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_FIBER <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_FIBER"</span>, <span class="st">"AHEIP_FIBER"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_TRANS_FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_TRANS_FAT"</span>, <span class="st">"AHEIP_TRANS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_POLY_FAT_SAT_FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_POLY_FAT_SAT_FAT"</span>, <span class="st">"AHEIP_POLYSAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_CALCIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_CALCIUM"</span>, <span class="st">"AHEIP_CALCIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_FOLATE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_FOLATE"</span>, <span class="st">"AHEIP_FOLATE"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    AHEIP_IRON <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">AHEIP_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_AHEIP_IRON"</span>, <span class="st">"AHEIP_IRON"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in AHEIP</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_AHEIP</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_AHEIP</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_AHEIP</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_AHEIP</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_AHEIP</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                      Dataset Accuracy</span></span>
<span><span class="co">## 1                  AHEIP_ALL      100</span></span>
<span><span class="co">## 2            AHEIP_VEGETABLE      100</span></span>
<span><span class="co">## 3          AHEIP_WHOLE_FRUIT      100</span></span>
<span><span class="co">## 4  AHEIP_WHITE_MEAT_RED_MEAT      100</span></span>
<span><span class="co">## 5                AHEIP_FIBER      100</span></span>
<span><span class="co">## 6            AHEIP_TRANS_FAT      100</span></span>
<span><span class="co">## 7     AHEIP_POLY_FAT_SAT_FAT      100</span></span>
<span><span class="co">## 8              AHEIP_CALCIUM      100</span></span>
<span><span class="co">## 9               AHEIP_FOLATE      100</span></span>
<span><span class="co">## 10                AHEIP_IRON      100</span></span></code></pre>
<div class="sourceCode" id="cb146"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_AHEIP</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-4.png" width="960"></p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################# DASH validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in DASH</span></span>
<span><span class="va">results_DASH</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names for DASH</span></span>
<span><span class="va">datasets_DASH</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    DASH_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_ALL"</span>, <span class="st">"DASH_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_FRUIT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_FRUIT"</span>, <span class="st">"DASH_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_VEGETABLE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_VEGETABLE"</span>, <span class="st">"DASH_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_NUT_LEGUME <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_NUT_LEGUME"</span>, <span class="st">"DASH_NUTSLEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_WHOLE_GRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_WHOLE_GRAIN"</span>, <span class="st">"DASH_WGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_LOW_FAT_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_LOW_FAT_DAIRY"</span>, <span class="st">"DASH_LOWF_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_SODIUM"</span>, <span class="st">"DASH_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_RED_PROCESSED_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_RED_PROCESSED_MEAT"</span>, <span class="st">"DASH_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASH_SSB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASH_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASH_SSB"</span>, <span class="st">"DASH_SSB_FRTJ"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in DASH</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_DASH</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_DASH</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_DASH</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_DASH</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_DASH</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                   Dataset Accuracy</span></span>
<span><span class="co">## 1                DASH_ALL      100</span></span>
<span><span class="co">## 2              DASH_FRUIT      100</span></span>
<span><span class="co">## 3          DASH_VEGETABLE      100</span></span>
<span><span class="co">## 4         DASH_NUT_LEGUME      100</span></span>
<span><span class="co">## 5        DASH_WHOLE_GRAIN      100</span></span>
<span><span class="co">## 6      DASH_LOW_FAT_DAIRY      100</span></span>
<span><span class="co">## 7             DASH_SODIUM      100</span></span>
<span><span class="co">## 8 DASH_RED_PROCESSED_MEAT      100</span></span>
<span><span class="co">## 9                DASH_SSB      100</span></span></code></pre>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_DASH</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-5.png" width="960"></p>
<div class="sourceCode" id="cb150"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################# DASHI validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in DASHI</span></span>
<span><span class="va">results_DASHI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">DASHI_validation_result</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "id"                    "gender"                "kcal"                 </span></span>
<span><span class="co">##  [4] "total_fat"             "sat_fat"               "protein"              </span></span>
<span><span class="co">##  [7] "cholesterol"           "fiber"                 "potassium"            </span></span>
<span><span class="co">## [10] "magnesium"             "calcium"               "sodium"               </span></span>
<span><span class="co">## [13] "EXP_DASHI_ALL"         "EXP_DASHI_TOTAL_FAT"   "EXP_DASHI_SAT_FAT"    </span></span>
<span><span class="co">## [16] "EXP_DASHI_PROTEIN"     "EXP_DASHI_CHOLESTEROL" "EXP_DASHI_FIBER"      </span></span>
<span><span class="co">## [19] "EXP_DASHI_POTASSIUM"   "EXP_DASHI_MAGNESIUM"   "EXP_DASHI_CALCIUM"    </span></span>
<span><span class="co">## [22] "EXP_DASHI_SODIUM"      "DASHI_ALL"             "TOTALKCAL_DASHI"      </span></span>
<span><span class="co">## [25] "DASHI_TOTAL_FAT"       "DASHI_SAT_FAT"         "DASHI_PROTEIN"        </span></span>
<span><span class="co">## [28] "DASHI_CHOLESTEROL"     "DASHI_FIBER"           "DASHI_POTASSIUM"      </span></span>
<span><span class="co">## [31] "DASHI_MAGNESIUM"       "DASHI_CALCIUM"         "DASHI_SODIUM"</span></span></code></pre>
<div class="sourceCode" id="cb152"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List of all your datasets and their corresponding column names for DASHI</span></span>
<span><span class="va">datasets_DASHI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    DASHI_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_ALL"</span>, <span class="st">"DASHI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_TOTAL_FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_TOTAL_FAT"</span>, <span class="st">"DASHI_TOTAL_FAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_SAT_FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_SAT_FAT"</span>, <span class="st">"DASHI_SAT_FAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_PROTEIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_PROTEIN"</span>, <span class="st">"DASHI_PROTEIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_CHOLESTEROL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_CHOLESTEROL"</span>, <span class="st">"DASHI_CHOLESTEROL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_FIBER <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_FIBER"</span>, <span class="st">"DASHI_FIBER"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_POTASSIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_POTASSIUM"</span>, <span class="st">"DASHI_POTASSIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_MAGNESIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_MAGNESIUM"</span>, <span class="st">"DASHI_MAGNESIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_CALCIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_CALCIUM"</span>, <span class="st">"DASHI_CALCIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    DASHI_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DASHI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DASHI_SODIUM"</span>, <span class="st">"DASHI_SODIUM"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in DASHI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_DASHI</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_DASHI</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_DASHI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_DASHI</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_DASHI</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##              Dataset Accuracy</span></span>
<span><span class="co">## 1          DASHI_ALL      100</span></span>
<span><span class="co">## 2    DASHI_TOTAL_FAT      100</span></span>
<span><span class="co">## 3      DASHI_SAT_FAT      100</span></span>
<span><span class="co">## 4      DASHI_PROTEIN      100</span></span>
<span><span class="co">## 5  DASHI_CHOLESTEROL      100</span></span>
<span><span class="co">## 6        DASHI_FIBER      100</span></span>
<span><span class="co">## 7    DASHI_POTASSIUM      100</span></span>
<span><span class="co">## 8    DASHI_MAGNESIUM      100</span></span>
<span><span class="co">## 9      DASHI_CALCIUM      100</span></span>
<span><span class="co">## 10      DASHI_SODIUM      100</span></span></code></pre>
<div class="sourceCode" id="cb154"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_DASHI</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-6.png" width="960"></p>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################# DII validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in DII</span></span>
<span><span class="va">results_DII</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names for DII</span></span>
<span><span class="va">datasets_DII</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    DII_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_DII_ALL"</span>, <span class="st">"DII_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ALCOHOL_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ALCOHOL_DII"</span>, <span class="st">"ALCOHOL_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    VITB12_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_VITB12_DII"</span>, <span class="st">"VITB12_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    VITB6_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_VITB6_DII"</span>, <span class="st">"VITB6_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    BCAROTENE_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_BCAROTENE_DII"</span>, <span class="st">"BCAROTENE_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    CAFFEINE_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_CAFFEINE_DII"</span>, <span class="st">"CAFFEINE_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    CARB_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_CARB_DII"</span>, <span class="st">"CARB_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    CHOLESTEROL_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_CHOLES_DII"</span>, <span class="st">"CHOLES_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    TOTALFAT_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_TOTALFAT_DII"</span>, <span class="st">"TOTALFAT_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    FIBER_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_FIBER_DII"</span>, <span class="st">"FIBER_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    FOLICACID_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_FOLICACID_DII"</span>, <span class="st">"FOLICACID_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    GARLIC_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_GARLIC_DII"</span>, <span class="st">"GARLIC_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    GINGER_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_GINGER_DII"</span>, <span class="st">"GINGER_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    IRON_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_IRON_DII"</span>, <span class="st">"IRON_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    MAGNESIUM_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MG_DII"</span>, <span class="st">"MG_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    MUFA_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MUFA_DII"</span>, <span class="st">"MUFA_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    NIACIN_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_NIACIN_DII"</span>, <span class="st">"NIACIN_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    N3FAT_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_N3FAT_DII"</span>, <span class="st">"N3FAT_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    N6FAT_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_N6FAT_DII"</span>, <span class="st">"N6FAT_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ONION_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ONION_DII"</span>, <span class="st">"ONION_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    PROTEIN_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PROTEIN_DII"</span>, <span class="st">"PROTEIN_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    PUFA_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PUFA_DII"</span>, <span class="st">"PUFA_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    RIBOFLAVIN_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_RIBOFLAVIN_DII"</span>, <span class="st">"RIBOFLAVIN_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    SAFFRON_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_SAFFRON_DII"</span>, <span class="st">"SAFFRON_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    SATFAT_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_SATFAT_DII"</span>, <span class="st">"SATFAT_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    SELENIUM_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_SE_DII"</span>, <span class="st">"SE_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    THIAMIN_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_THIAMIN_DII"</span>, <span class="st">"THIAMIN_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    TRANSFAT_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_TRANSFAT_DII"</span>, <span class="st">"TRANSFAT_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    TURMERIC_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_TURMERIC_DII"</span>, <span class="st">"TURMERIC_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    VITAMINA_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_VITA_DII"</span>, <span class="st">"VITA_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    VITAMINC_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_VITC_DII"</span>, <span class="st">"VITC_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    VITAMIND_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_VITD_DII"</span>, <span class="st">"VITD_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    VITAMINE_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_VITE_DII"</span>, <span class="st">"VITE_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ZINC_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ZN_DII"</span>, <span class="st">"ZN_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    TEA_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_TEA_DII"</span>, <span class="st">"TEA_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    FLA3OL_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_FLA3OL_DII"</span>, <span class="st">"FLA3OL_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    FLAVONES_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_FLAVONES_DII"</span>, <span class="st">"FLAVONES_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    FLAVONOLS_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_FLAVONOLS_DII"</span>, <span class="st">"FLAVONOLS_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    FLAVONONES_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_FLAVONONES_DII"</span>, <span class="st">"FLAVONONES_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ANTHOCYANIDINS_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ANTHOC_DII"</span>, <span class="st">"ANTHOC_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ISOFLAVONES_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ISOFLAVONES_DII"</span>, <span class="st">"ISOFLAVONES_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    PEPPER_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PEPPER_DII"</span>, <span class="st">"PEPPER_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    THYME_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_THYME_DII"</span>, <span class="st">"THYME_DII"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    ROSEMARY_DII <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">DII_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_ROSEMARY_DII"</span>, <span class="st">"ROSEMARY_DII"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in DII</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_DII</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_DII</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_DII</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_DII</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_DII</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##               Dataset Accuracy</span></span>
<span><span class="co">## 1             DII_ALL      100</span></span>
<span><span class="co">## 2         ALCOHOL_DII      100</span></span>
<span><span class="co">## 3          VITB12_DII      100</span></span>
<span><span class="co">## 4           VITB6_DII      100</span></span>
<span><span class="co">## 5       BCAROTENE_DII      100</span></span>
<span><span class="co">## 6        CAFFEINE_DII      100</span></span>
<span><span class="co">## 7            CARB_DII      100</span></span>
<span><span class="co">## 8     CHOLESTEROL_DII      100</span></span>
<span><span class="co">## 9        TOTALFAT_DII      100</span></span>
<span><span class="co">## 10          FIBER_DII      100</span></span>
<span><span class="co">## 11      FOLICACID_DII      100</span></span>
<span><span class="co">## 12         GARLIC_DII      100</span></span>
<span><span class="co">## 13         GINGER_DII      100</span></span>
<span><span class="co">## 14           IRON_DII      100</span></span>
<span><span class="co">## 15      MAGNESIUM_DII      100</span></span>
<span><span class="co">## 16           MUFA_DII      100</span></span>
<span><span class="co">## 17         NIACIN_DII      100</span></span>
<span><span class="co">## 18          N3FAT_DII      100</span></span>
<span><span class="co">## 19          N6FAT_DII      100</span></span>
<span><span class="co">## 20          ONION_DII      100</span></span>
<span><span class="co">## 21        PROTEIN_DII      100</span></span>
<span><span class="co">## 22           PUFA_DII      100</span></span>
<span><span class="co">## 23     RIBOFLAVIN_DII      100</span></span>
<span><span class="co">## 24        SAFFRON_DII      100</span></span>
<span><span class="co">## 25         SATFAT_DII      100</span></span>
<span><span class="co">## 26       SELENIUM_DII      100</span></span>
<span><span class="co">## 27        THIAMIN_DII      100</span></span>
<span><span class="co">## 28       TRANSFAT_DII      100</span></span>
<span><span class="co">## 29       TURMERIC_DII      100</span></span>
<span><span class="co">## 30       VITAMINA_DII      100</span></span>
<span><span class="co">## 31       VITAMINC_DII      100</span></span>
<span><span class="co">## 32       VITAMIND_DII      100</span></span>
<span><span class="co">## 33       VITAMINE_DII      100</span></span>
<span><span class="co">## 34           ZINC_DII      100</span></span>
<span><span class="co">## 35            TEA_DII      100</span></span>
<span><span class="co">## 36         FLA3OL_DII      100</span></span>
<span><span class="co">## 37       FLAVONES_DII      100</span></span>
<span><span class="co">## 38      FLAVONOLS_DII      100</span></span>
<span><span class="co">## 39     FLAVONONES_DII      100</span></span>
<span><span class="co">## 40 ANTHOCYANIDINS_DII      100</span></span>
<span><span class="co">## 41    ISOFLAVONES_DII      100</span></span>
<span><span class="co">## 42         PEPPER_DII      100</span></span>
<span><span class="co">## 43          THYME_DII      100</span></span>
<span><span class="co">## 44       ROSEMARY_DII      100</span></span></code></pre>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_DII</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-7.png" width="960"></p>
<div class="sourceCode" id="cb158"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################### HEI2015 validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all dietary index component scores in HEI2015</span></span>
<span><span class="va">results_HEI2015</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all your datasets and their corresponding column names for HEI2015</span></span>
<span><span class="va">datasets_HEI2015</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    HEI2015_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_ALL"</span>, <span class="st">"HEI2015_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALFRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_TOTALFRT"</span>, <span class="st">"HEI2015_TOTALFRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_FRT"</span>, <span class="st">"HEI2015_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_VEG"</span>, <span class="st">"HEI2015_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_GREENNBEAN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_GREENNBEAN"</span>, <span class="st">"HEI2015_GREENNBEAN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_TOTALPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_TOTALPRO"</span>, <span class="st">"HEI2015_TOTALPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SEAPLANTPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_SEAPLANTPRO"</span>, <span class="st">"HEI2015_SEAPLANTPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_WHOLEGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_WHOLEGRAIN"</span>, <span class="st">"HEI2015_WHOLEGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_DAIRY"</span>, <span class="st">"HEI2015_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_FATTYACID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_FATTYACID"</span>, <span class="st">"HEI2015_FATTYACID"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_REFINEDGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_REFINEDGRAIN"</span>, <span class="st">"HEI2015_REFINEDGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_SODIUM"</span>, <span class="st">"HEI2015_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_ADDEDSUGAR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_ADDEDSUGAR"</span>, <span class="st">"HEI2015_ADDEDSUGAR"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    HEI2015_SATFAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2015_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2015_SATFAT"</span>, <span class="st">"HEI2015_SATFAT"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in HEI2015</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_HEI2015</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_HEI2015</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>    <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">results_HEI2015</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_HEI2015</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_HEI2015</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                 Dataset Accuracy</span></span>
<span><span class="co">## 1           HEI2015_ALL      100</span></span>
<span><span class="co">## 2      HEI2015_TOTALFRT      100</span></span>
<span><span class="co">## 3           HEI2015_FRT      100</span></span>
<span><span class="co">## 4           HEI2015_VEG      100</span></span>
<span><span class="co">## 5    HEI2015_GREENNBEAN      100</span></span>
<span><span class="co">## 6      HEI2015_TOTALPRO      100</span></span>
<span><span class="co">## 7   HEI2015_SEAPLANTPRO      100</span></span>
<span><span class="co">## 8    HEI2015_WHOLEGRAIN      100</span></span>
<span><span class="co">## 9         HEI2015_DAIRY      100</span></span>
<span><span class="co">## 10    HEI2015_FATTYACID      100</span></span>
<span><span class="co">## 11 HEI2015_REFINEDGRAIN      100</span></span>
<span><span class="co">## 12       HEI2015_SODIUM      100</span></span>
<span><span class="co">## 13   HEI2015_ADDEDSUGAR      100</span></span>
<span><span class="co">## 14       HEI2015_SATFAT      100</span></span></code></pre>
<div class="sourceCode" id="cb160"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_HEI2015</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill<span class="op">=</span><span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># add a subtitie</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="co"># increase the title size</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>        legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>        legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>        axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-8.png" width="960"></p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################### HEI2020 validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all HEI2020 component scores</span></span>
<span><span class="va">results_HEI2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all the datasets and their corresponding column names for HEI2020</span></span>
<span><span class="va">datasets_HEI2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  HEI2020_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_ALL"</span>, <span class="st">"HEI2020_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_TOTALFRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_TOTALFRT"</span>, <span class="st">"HEI2020_TOTALFRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_FRT"</span>, <span class="st">"HEI2020_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_VEG"</span>, <span class="st">"HEI2020_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_GREENNBEAN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_GREENNBEAN"</span>, <span class="st">"HEI2020_GREENNBEAN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_TOTALPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_TOTALPRO"</span>, <span class="st">"HEI2020_TOTALPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_SEAPLANTPRO <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_SEAPLANTPRO"</span>, <span class="st">"HEI2020_SEAPLANTPRO"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_WHOLEGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_WHOLEGRAIN"</span>, <span class="st">"HEI2020_WHOLEGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_DAIRY"</span>, <span class="st">"HEI2020_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_FATTYACID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_FATTYACID"</span>, <span class="st">"HEI2020_FATTYACID"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_REFINEDGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_REFINEDGRAIN"</span>, <span class="st">"HEI2020_REFINEDGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_SODIUM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_SODIUM"</span>, <span class="st">"HEI2020_SODIUM"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_ADDEDSUGAR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_ADDEDSUGAR"</span>, <span class="st">"HEI2020_ADDEDSUGAR"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  HEI2020_SATFAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">HEI2020_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_HEI2020_SATFAT"</span>, <span class="st">"HEI2020_SATFAT"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in HEI2020</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_HEI2020</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_HEI2020</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">results_HEI2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_HEI2020</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_HEI2020</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                 Dataset Accuracy</span></span>
<span><span class="co">## 1           HEI2020_ALL      100</span></span>
<span><span class="co">## 2      HEI2020_TOTALFRT      100</span></span>
<span><span class="co">## 3           HEI2020_FRT      100</span></span>
<span><span class="co">## 4           HEI2020_VEG      100</span></span>
<span><span class="co">## 5    HEI2020_GREENNBEAN      100</span></span>
<span><span class="co">## 6      HEI2020_TOTALPRO      100</span></span>
<span><span class="co">## 7   HEI2020_SEAPLANTPRO      100</span></span>
<span><span class="co">## 8    HEI2020_WHOLEGRAIN      100</span></span>
<span><span class="co">## 9         HEI2020_DAIRY      100</span></span>
<span><span class="co">## 10    HEI2020_FATTYACID      100</span></span>
<span><span class="co">## 11 HEI2020_REFINEDGRAIN      100</span></span>
<span><span class="co">## 12       HEI2020_SODIUM      100</span></span>
<span><span class="co">## 13   HEI2020_ADDEDSUGAR      100</span></span>
<span><span class="co">## 14       HEI2020_SATFAT      100</span></span></code></pre>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_HEI2020</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-9.png" width="960"></p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################### MED validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all MED component scores</span></span>
<span><span class="va">results_MED</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all the datasets and their corresponding column names for MED</span></span>
<span><span class="va">datasets_MED</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  MED_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_ALL"</span>, <span class="st">"MED_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_FRUIT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_FRUIT"</span>, <span class="st">"MED_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_VEGETABLE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_VEGETABLE"</span>, <span class="st">"MED_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_WHOLE_GRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_WHOLE_GRAIN"</span>, <span class="st">"MED_WGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_LEGUME <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_LEGUME"</span>, <span class="st">"MED_LEGUMES"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_NUT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_NUT"</span>, <span class="st">"MED_NUTS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_FISH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_FISH"</span>, <span class="st">"MED_FISH"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_RED_PROCESSED_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_RED_PROCESSED_MEAT"</span>, <span class="st">"MED_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_MONOFAT_SATFAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_MONOFAT_SATFAT"</span>, <span class="st">"MED_MONSATFAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MED_ALCOHOL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MED_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MED_ALCOHOL"</span>, <span class="st">"MED_ALCOHOL"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in MED</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_MED</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_MED</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">results_MED</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_MED</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_MED</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                   Dataset Accuracy</span></span>
<span><span class="co">## 1                 MED_ALL      100</span></span>
<span><span class="co">## 2               MED_FRUIT      100</span></span>
<span><span class="co">## 3           MED_VEGETABLE      100</span></span>
<span><span class="co">## 4         MED_WHOLE_GRAIN      100</span></span>
<span><span class="co">## 5              MED_LEGUME      100</span></span>
<span><span class="co">## 6                 MED_NUT      100</span></span>
<span><span class="co">## 7                MED_FISH      100</span></span>
<span><span class="co">## 8  MED_RED_PROCESSED_MEAT      100</span></span>
<span><span class="co">## 9      MED_MONOFAT_SATFAT      100</span></span>
<span><span class="co">## 10            MED_ALCOHOL      100</span></span></code></pre>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_MED</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-10.png" width="960"></p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################### MEDI validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all MEDI component scores</span></span>
<span><span class="va">results_MEDI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all the datasets and their corresponding column names for MEDI</span></span>
<span><span class="va">datasets_MEDI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  MEDI_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_ALL"</span>, <span class="st">"MEDI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_OLIVE_OIL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_OLIVE_OIL"</span>, <span class="st">"MEDI_OLIVE_OIL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_VEGETABLE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_VEGETABLE"</span>, <span class="st">"MEDI_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_FRUIT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_FRUIT"</span>, <span class="st">"MEDI_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_LEGUME <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_LEGUME"</span>, <span class="st">"MEDI_LEGUMES"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_NUT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_NUT"</span>, <span class="st">"MEDI_NUTS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_FISH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_FISH"</span>, <span class="st">"MEDI_FISH"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_ALCOHOL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_ALCOHOL"</span>, <span class="st">"MEDI_ALCOHOL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_SSB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_SSB"</span>, <span class="st">"MEDI_SSB"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_SWEETS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_SWEETS"</span>, <span class="st">"MEDI_SWEETS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_DISCRET_FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_DISCRET_FAT"</span>, <span class="st">"MEDI_DISCRET_FAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_RED_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_RED_MEAT"</span>, <span class="st">"MEDI_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in MEDI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_MEDI</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_MEDI</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">results_MEDI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_MEDI</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_MEDI</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##             Dataset Accuracy</span></span>
<span><span class="co">## 1          MEDI_ALL      100</span></span>
<span><span class="co">## 2    MEDI_OLIVE_OIL      100</span></span>
<span><span class="co">## 3    MEDI_VEGETABLE      100</span></span>
<span><span class="co">## 4        MEDI_FRUIT      100</span></span>
<span><span class="co">## 5       MEDI_LEGUME      100</span></span>
<span><span class="co">## 6          MEDI_NUT      100</span></span>
<span><span class="co">## 7         MEDI_FISH      100</span></span>
<span><span class="co">## 8      MEDI_ALCOHOL      100</span></span>
<span><span class="co">## 9          MEDI_SSB      100</span></span>
<span><span class="co">## 10      MEDI_SWEETS      100</span></span>
<span><span class="co">## 11 MEDI_DISCRET_FAT      100</span></span>
<span><span class="co">## 12    MEDI_RED_MEAT      100</span></span></code></pre>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_MEDI</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-11.png" width="960"></p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################### MEDI_V2 validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all MEDI_V2 component scores</span></span>
<span><span class="va">results_MEDI_V2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all the datasets and their corresponding column names for MEDI_V2</span></span>
<span><span class="va">datasets_MEDI_V2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  MEDI_V2_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_ALL"</span>, <span class="st">"MEDI_V2_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_OLIVE_OIL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_OLIVE_OIL"</span>, <span class="st">"MEDI_OLIVE_OIL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_VEGETABLE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_VEGETABLE"</span>, <span class="st">"MEDI_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_FRUIT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_FRUIT"</span>, <span class="st">"MEDI_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_LEGUME <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_LEGUME"</span>, <span class="st">"MEDI_LEGUMES"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_NUT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_NUT"</span>, <span class="st">"MEDI_NUTS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_FISH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_FISH"</span>, <span class="st">"MEDI_FISH"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_ALCOHOL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_ALCOHOL"</span>, <span class="st">"MEDI_ALCOHOL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_SSB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_SSB"</span>, <span class="st">"MEDI_SSB"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_SWEETS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_SWEETS"</span>, <span class="st">"MEDI_SWEETS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_DISCRET_FAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_DISCRET_FAT"</span>, <span class="st">"MEDI_DISCRET_FAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  MEDI_V2_RED_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">MEDI_V2_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_MEDI_RED_MEAT"</span>, <span class="st">"MEDI_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in MEDI_V2</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_MEDI_V2</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_MEDI_V2</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">results_MEDI_V2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_MEDI_V2</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_MEDI_V2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                Dataset Accuracy</span></span>
<span><span class="co">## 1          MEDI_V2_ALL      100</span></span>
<span><span class="co">## 2    MEDI_V2_OLIVE_OIL      100</span></span>
<span><span class="co">## 3    MEDI_V2_VEGETABLE      100</span></span>
<span><span class="co">## 4        MEDI_V2_FRUIT      100</span></span>
<span><span class="co">## 5       MEDI_V2_LEGUME      100</span></span>
<span><span class="co">## 6          MEDI_V2_NUT      100</span></span>
<span><span class="co">## 7         MEDI_V2_FISH      100</span></span>
<span><span class="co">## 8      MEDI_V2_ALCOHOL      100</span></span>
<span><span class="co">## 9          MEDI_V2_SSB      100</span></span>
<span><span class="co">## 10      MEDI_V2_SWEETS      100</span></span>
<span><span class="co">## 11 MEDI_V2_DISCRET_FAT      100</span></span>
<span><span class="co">## 12    MEDI_V2_RED_MEAT      100</span></span></code></pre>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_MEDI_V2</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-12.png" width="960"></p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">################### PHDI validation ###########################################################</span></span>
<span></span>
<span><span class="co"># Initialize a data frame to store results for all PHDI component scores</span></span>
<span><span class="va">results_PHDI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  Dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  Accuracy <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># List of all the datasets and their corresponding column names for PHDI</span></span>
<span><span class="va">datasets_PHDI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  PHDI_ALL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_ALL"</span>, <span class="st">"PHDI_ALL"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_WGRAIN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_WGRAIN"</span>, <span class="st">"PHDI_WGRAIN"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_STARCHY_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_STARCHY_VEG"</span>, <span class="st">"PHDI_STARCHY_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_VEG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_VEG"</span>, <span class="st">"PHDI_VEG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_FRT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_FRT"</span>, <span class="st">"PHDI_FRT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_DAIRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_DAIRY"</span>, <span class="st">"PHDI_DAIRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_REDPROC_MEAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_REDPROC_MEAT"</span>, <span class="st">"PHDI_REDPROC_MEAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_POULTRY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_POULTRY"</span>, <span class="st">"PHDI_POULTRY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_EGG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_EGG"</span>, <span class="st">"PHDI_EGG"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_FISH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_FISH"</span>, <span class="st">"PHDI_FISH"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_NUTS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_NUTS"</span>, <span class="st">"PHDI_NUTS"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_LEGUMES <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_LEGUMES"</span>, <span class="st">"PHDI_LEGUMES"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_SOY <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_SOY"</span>, <span class="st">"PHDI_SOY"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_ADDED_FAT_UNSAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_ADDED_FAT_UNSAT"</span>, <span class="st">"PHDI_ADDED_FAT_UNSAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_ADDED_FAT_SAT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_ADDED_FAT_SAT"</span>, <span class="st">"PHDI_ADDED_FAT_SAT"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  PHDI_ADDED_SUGAR <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">PHDI_validation_result</span>, cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"EXP_PHDI_ADDED_SUGAR"</span>, <span class="st">"PHDI_ADDED_SUGAR"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute accuracy for each dataset in PHDI</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">datasets_PHDI</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op">&lt;-</span> <span class="va">datasets_PHDI</span><span class="op">[[</span><span class="va">name</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu">get_accuracy</span><span class="op">(</span><span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">]</span>, <span class="va">dataset</span><span class="op">$</span><span class="va">data</span><span class="op">[[</span><span class="va">dataset</span><span class="op">$</span><span class="va">cols</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="va">results_PHDI</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">results_PHDI</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Dataset <span class="op">=</span> <span class="va">name</span>, Accuracy <span class="op">=</span> <span class="va">accuracy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Print results</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results_PHDI</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                 Dataset Accuracy</span></span>
<span><span class="co">## 1              PHDI_ALL      100</span></span>
<span><span class="co">## 2           PHDI_WGRAIN      100</span></span>
<span><span class="co">## 3      PHDI_STARCHY_VEG      100</span></span>
<span><span class="co">## 4              PHDI_VEG      100</span></span>
<span><span class="co">## 5              PHDI_FRT      100</span></span>
<span><span class="co">## 6            PHDI_DAIRY      100</span></span>
<span><span class="co">## 7     PHDI_REDPROC_MEAT      100</span></span>
<span><span class="co">## 8          PHDI_POULTRY      100</span></span>
<span><span class="co">## 9              PHDI_EGG      100</span></span>
<span><span class="co">## 10            PHDI_FISH      100</span></span>
<span><span class="co">## 11            PHDI_NUTS      100</span></span>
<span><span class="co">## 12         PHDI_LEGUMES      100</span></span>
<span><span class="co">## 13             PHDI_SOY      100</span></span>
<span><span class="co">## 14 PHDI_ADDED_FAT_UNSAT      100</span></span>
<span><span class="co">## 15   PHDI_ADDED_FAT_SAT      100</span></span>
<span><span class="co">## 16     PHDI_ADDED_SUGAR      100</span></span></code></pre>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot results</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">results_PHDI</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dataset</span>, y <span class="op">=</span> <span class="va">Accuracy</span>, fill <span class="op">=</span> <span class="va">Dataset</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Accuracy (%)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Comparison of Accuracy: dietaryindex-calculated vs. hand-calculated Dietary Index Values"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a subtitie</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>subtitle <span class="op">=</span> <span class="st">"Exact match by rounding both results to the nearest two decimal places"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># increase the title size</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="validation_files/figure-html/unnamed-chunk-11-13.png" width="960"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Zhan, Becky Hodge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
