<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>dietary index • dietaryindex</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="dietary index">
<meta name="description" content="Currently, the package works for the following 5 dietary assessment tools to calculate many dietary indexes within 1 steps without data-preprocessing. 1. It can calculate DI-GM, DII, PHDI, HEI2020, HEI2015, AHEI, DASH, DASHI, MED, MEDI for the NHANES. 2. It can calculate HEI2020, HEI2015, AHEI, DASH, MED, and DII for the ASA24. 3. It can calculate HEI2015, AHEI, DASH, and MED for the DHQ3. 4. It can calculate HEI2015, AHEI, AHEIP, DASH, MED, and DII for the Block FFQ. This package can also help you calculate all of these dietary indexes using all other dietary assessments, if you provide the relevant serving sizes for each food/nutrient category. Outputs include the dietary index total score and component scores (for dataset-specific functions).">
<meta property="og:description" content="Currently, the package works for the following 5 dietary assessment tools to calculate many dietary indexes within 1 steps without data-preprocessing. 1. It can calculate DI-GM, DII, PHDI, HEI2020, HEI2015, AHEI, DASH, DASHI, MED, MEDI for the NHANES. 2. It can calculate HEI2020, HEI2015, AHEI, DASH, MED, and DII for the ASA24. 3. It can calculate HEI2015, AHEI, DASH, and MED for the DHQ3. 4. It can calculate HEI2015, AHEI, AHEIP, DASH, MED, and DII for the Block FFQ. This package can also help you calculate all of these dietary indexes using all other dietary assessments, if you provide the relevant serving sizes for each food/nutrient category. Outputs include the dietary index total score and component scores (for dataset-specific functions).">
<meta property="og:image" content="https://jamesjiadazhan.github.io/dietaryindex_manual/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">dietaryindex</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/dietaryindex.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/case-study-1,2,3.html">Case study_123</a></li>
    <li><a class="dropdown-item" href="articles/validation.html">Validation</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="dietaryindex">dietaryindex<a class="anchor" aria-label="anchor" href="#dietaryindex"></a>
</h1>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<hr>
<p><strong>dietaryindex</strong> is an R package that provides user-friendly, streamlined methods for standardizing the compilation of dietary intake data into index-based dietary patterns to enable the assessment of adherence to these patterns in epidemiologic and clinical studies. It has been peer-reviewed and published in the <strong>American Journal of Clinical Nutrition</strong>.</p>
</div>
<div class="section level2">
<h2 id="user-friendly-tutorial-page">User-friendly tutorial page<a class="anchor" aria-label="anchor" href="#user-friendly-tutorial-page"></a>
</h2>
<hr>
<div class="section level3">
<h3 id="we-have-created-a-modern-user-friendly-tutorial-page-for-the-dietaryindex-package">We have created a modern, user-friendly tutorial page for the dietaryindex package.<a class="anchor" aria-label="anchor" href="#we-have-created-a-modern-user-friendly-tutorial-page-for-the-dietaryindex-package"></a>
</h3>
<ul>
<li><h3 id="click-here"><a href="https://jamesjiadazhan.github.io/dietaryindex_manual/index.html">Click here</a></h3></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<hr>
<p>If you are using the Dietaryindex package in your research, <strong>please be sure to cite our original work</strong>. By doing so, you not only add credibility to your findings but also recognize and appreciate our intellectual efforts and contributions. The appropriate citation is as follows:</p>
<ul>
<li>Zhan JJ, Hodge RA, Dunlop AL, et al. Dietaryindex: a user-friendly and versatile R package for standardizing dietary pattern analysis in epidemiological and clinical studies. Am J Clin Nutr. 2024;120(5):1165-1174. <a href="doi:10.1016/j.ajcnut.2024.08.021" class="uri">doi:10.1016/j.ajcnut.2024.08.021</a>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="how-dietaryindex-works">How dietaryindex works<a class="anchor" aria-label="anchor" href="#how-dietaryindex-works"></a>
</h2>
<hr>
<p>The <strong>dietaryindex</strong> package performs calculations in two steps:</p>
<ol style="list-style-type: decimal">
<li><p>Computation of the serving size of each food and nutrient category.</p></li>
<li><p>Computation of the individual dietary index using the serving size information.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="what-dietaryindex-can-calculate">What dietaryindex can calculate<a class="anchor" aria-label="anchor" href="#what-dietaryindex-can-calculate"></a>
</h2>
<hr>
<p>This package can calculate the following dietary pattern indexes. For more details, <a href="https://jamesjiadazhan.github.io/dietaryindex_manual/reference/index.html">check here</a></p>
<ul>
<li><p>Dietary Index for Gut Microbiota (DI-GM)</p></li>
<li><p>Dietary Inflammation Index (DII)</p></li>
<li><p>Healthy Eating Index 2020 (HEI2020 &amp; HEI-Toddlers-2020)</p></li>
<li><p>Healthy Eating Index 2015 (HEI2015)</p></li>
<li><p>Alternative Healthy Eating Index (AHEI)</p></li>
<li><p>Dietary Approaches to Stop Hypertension Index (DASH)</p></li>
<li><p>DASH Index in serving sizes from the DASH trial (DASHI)</p></li>
<li><p>Alternate Mediterranean Diet Score (aMED)</p></li>
<li><p>MED Index in serving sizes from the PREDIMED trial (MEDI)</p></li>
<li><p>American Cancer Society 2020 diet score (ACS2020_V1 and ACS2020_V2)</p></li>
<li><p>Planetary Health Diet Index from the EAT-Lancet Commission (PHDI)</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="which-dietary-assessments-are-directly-supported">Which dietary assessments are directly supported<a class="anchor" aria-label="anchor" href="#which-dietary-assessments-are-directly-supported"></a>
</h2>
<ul>
<li><p>National Health and Nutrition Examination Survey (NHANES, the nutrition and health database in the United States)</p></li>
<li><p>Automated Self-Administered 24-Hour Dietary Assessment Tool (ASA24)</p></li>
<li><p>Diet History Questionnaire III (DHQ III)</p></li>
<li><p>Block Food Frequency Questionnaire (Block FFQ)</p></li>
<li><p>ANY dietary assessment tools (indirect support via generic functions, which require users to do data preprocessing by themselves)</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="how-to-use-dietaryindex-functions-appropriately-with-specific-data-inputs">How to use dietaryindex functions appropriately with specific data inputs<a class="anchor" aria-label="anchor" href="#how-to-use-dietaryindex-functions-appropriately-with-specific-data-inputs"></a>
</h2>
<hr>
<p>For a detailed explanation of these indexes, please check the attached Excel files:</p>
<ul>
<li><p><a href="https://github.com/jamesjiadazhan/dietaryindex/blob/main/dietaryindex_SERVING_SIZE_DEFINITION.xlsx" class="external-link">dietaryindex_SERVING_SIZE_DEFINITION.xlsx</a></p></li>
<li><p><a href="https://github.com/jamesjiadazhan/dietaryindex/blob/main/dietaryindex_SCORING_ALGORITHM.xlsx" class="external-link">dietaryindex_SCORING_ALGORITHM.xlsx</a></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<hr>
<p>Currently, <strong>dietaryindex</strong> is not available on [CRAN]</p>
<p>To install from this GitHub repository, use the <strong>remotes</strong> package (remotes package is better than devtools as it has a faster installation speed):</p>
<p>Package dependencies: <strong>dplyr</strong>, <strong>readr</strong>, <strong>haven</strong> (automatically installed).</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span> <span class="co">#If you don't have "remotes" installed already</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jamesjiadazhan/dietaryindex"</span><span class="op">)</span> <span class="co"># Install the package from GitHub</span></span></code></pre>
<p>If the previous steps are not working, you can try the following steps:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span> <span class="co"># Load remotes</span></span>
<span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"jamesjiadazhan/dietaryindex"</span><span class="op">)</span></span></code></pre>
<p>If package download speed is suboptimal, you can install the package from a downloaded package archive file (ZIP file):</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"path/to/your_package_name.zip"</span>, repos <span class="op">=</span> <span class="cn">NULL</span>, type <span class="op">=</span> <span class="st">"source"</span><span class="op">)</span></span></code></pre>
<p>If something happens like the following, first try to enter 1 in the terminal (lower box). If not successful, then try to enter 2. <strong>It will take a while if you are a new R user.</strong></p>
<pre><code>  These packages have more recent versions available.
  It is recommended to update all of them.
  Which would you like to update?

  1: All
  2: CRAN packages only
  3: None
  4: tzdb  (0.3.0 -&gt; 0.4.0) [CRAN]
  5: vroom (1.6.1 -&gt; 1.6.3) [CRAN]</code></pre>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<hr>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://jamesjiadazhan.github.io/dietaryindex_manual">dietaryindex</a></span><span class="op">)</span></span></code></pre>
<div class="section level3">
<h3 id="check-the-get-started-header-on-the-top-of-the-page">Check the “Get started” header on the top of the page<a class="anchor" aria-label="anchor" href="#check-the-get-started-header-on-the-top-of-the-page"></a>
</h3>
<ul>
<li><h3 id="click-here-1"><a href="https://jamesjiadazhan.github.io/dietaryindex_manual/articles/dietaryindex.html">Click here</a></h3></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="related-work">Related Work<a class="anchor" aria-label="anchor" href="#related-work"></a>
</h2>
<hr>
<p><strong>dietaryindex</strong> is mainly intended as a versatile tool to help for calculating different dietary indexes conveniently. It is designed to be flexible to work for almost all types of dietary assessment tools, including food frequency questionnaires, 24-hour dietary recalls, and even food records, while it also supports many 1-step dietary index calculations for NHANES, ASA24, and DHQ3. Please follow the instruction of your specific dietary assessment tools and relevant articles regarding how to accurately define the serving size (see above) if it is not provided in our package, as they are the key to obtaining high-quality dietary indexes. <strong>dietaryindex</strong> also provides some help in defining the serving size in the help file, argument section. Note: some very specific dietary index components (low-fat dairy products and sugar-sweetened beverages) are not easily available and thus are difficult to assess. The author used individual-level food data to compute the population-level food group data. For example, the sugar-sweetened beverage serving is estimated by dividing the total added sugar intake in grams from beverages by 26, because 1 bottle (8 oz) of Coke has 26 g added sugars and this is used as the benchmark, as different sugar-sweetened beverages have largely different added sugar contents. Please use your own judgment to determine if the dietary indexes calculated using the <strong>dietaryindex</strong> package is appropriate for your research.</p>
<p>For NHANES data:</p>
<ul>
<li>FPED population file refers to the files in the Food Patterns equivalents for foods in the WWEIA (<a href="https://www.ars.usda.gov/northeast-area/beltsville-md-bhnrc/beltsville-human-nutrition-research-center/food-surveys-research-group/docs/fped-databases/" class="external-link uri">https://www.ars.usda.gov/northeast-area/beltsville-md-bhnrc/beltsville-human-nutrition-research-center/food-surveys-research-group/docs/fped-databases/</a>). They look like FPED_DR1TOT or FPED_DR2TOT.
<ul>
<li>The FPED individual files look like FPED_DR1IFF or FPED_DR2IFF.</li>
</ul>
</li>
<li>NUTRIENT population file refers to the files in the Dietary Interview - Total Nutrient Intakes, First Day or Second Day (example: 05-06 <a href="https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx?Component=Dietary&amp;CycleBeginYear=2005" class="external-link uri">https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx?Component=Dietary&amp;CycleBeginYear=2005</a>). They look like
<ul>
<li>The NUTRIENT individual files look like DR1IFF_D or DR2IFF_D.</li>
</ul>
</li>
<li>DEMO file refers to the DEMO file in the Demographic Variables &amp; Sample Weights (example: 05-06 <a href="https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx?Component=Demographics&amp;CycleBeginYear=2005" class="external-link uri">https://wwwn.cdc.gov/nchs/nhanes/search/datapage.aspx?Component=Demographics&amp;CycleBeginYear=2005</a>)</li>
</ul>
<p>FPED, NUTRIENT, and DEMO files are available within the package and in the another GitHub repository and Google Drive collected by the package developer for your convenience - <a href="https://github.com/jamesjiadazhan/dietaryindex_manual" class="external-link uri">https://github.com/jamesjiadazhan/dietaryindex_manual</a> - <a href="https://drive.google.com/drive/folders/1umjhuS22aHEW_bU5AjYa8vrae91gsb0D?usp=share_link" class="external-link uri">https://drive.google.com/drive/folders/1umjhuS22aHEW_bU5AjYa8vrae91gsb0D?usp=share_link</a></p>
<div class="section level3">
<h3 id="validation">Validation<a class="anchor" aria-label="anchor" href="#validation"></a>
</h3>
<hr>
<p><strong>dietaryindex</strong> has been thoroughly validated for accuracy and reliability. We’ve ensured that all functions in the <strong>dietaryindex</strong> work as expected.</p>
<div class="section level4">
<h4 id="validation-r-codes-can-be-found-in-the-validation-page-within-article-header-on-the-top-of-the-page">Validation R codes can be found in the Validation page within Article header on the top of the page<a class="anchor" aria-label="anchor" href="#validation-r-codes-can-be-found-in-the-validation-page-within-article-header-on-the-top-of-the-page"></a>
</h4>
<ul>
<li><h3 id="click-here-2"><a href="https://jamesjiadazhan.github.io/dietaryindex_manual/articles/validation.html">Click here</a></h3></li>
<li>
<p>For validation details, download the <strong>Validation file for publication.zip</strong> to obtain the following files:</p>
<ul>
<li><p><strong>Validation.r</strong>: This R script contains all code used to generate the final validation files during the validation process.</p></li>
<li><p><strong>Validation figures.r</strong>: This R script contains all codes used to produce validation figures during the validation.</p></li>
<li><p><strong>Raw validation files</strong>: This folder houses all the raw simulation data files utilized in our validation.</p></li>
<li><p><strong>Final validation files</strong>: This folder contains the final output files from our validation process. Columns prefixed with “EXP” represent the manually computed dietary index results, which serve as our gold standard. The subsequent columns show results produced by the dietaryindex package.</p></li>
<li><p><strong>HEI2015_NHANES_SAS_1718</strong>: This folder includes all data files used in validating the HEI2015 results. We compared the SAS results (obtained using SAS codes from <a href="https://epi.grants.cancer.gov/hei/sas-code.html" class="external-link uri">https://epi.grants.cancer.gov/hei/sas-code.html</a>) and the dietaryindex results using the NHANES 1718 dataset. The results were found to be a 100% match, after rounding to two decimal places.</p></li>
<li><p><strong>Figure 1. Comparison of Accuracy</strong>: dietaryindex-calculated vs. hand-calculated Dietary Index Values using the simulation datasets (sample sizes range from 10 to 26).</p></li>
<li><p><strong>Figure 2. Accuracy of HEI2015 in NHANES</strong>: dietaryindex-calculated vs. SAS-calculated results from National Cancer Institute using the NHANES 2017-2018 data (n=7122).</p></li>
<li><p><strong>Figure 3. Accuracy of HEI2015 in ASA24</strong>: dietaryindex-calculated vs. SAS-calculated results from National Cancer Institute using the ASA24 example data (n=21).</p></li>
<li><p><strong>Figure 4. Accuracy of HEI2015 in DHQ3</strong>: dietaryindex-calculated vs. internal-calculated results from National Cancer Institute using the DHQ3 example data (n=23).</p></li>
<li><p><strong>Supplementary Material 3 Validation Figures.docx</strong>: This word document includes all figures for the detailed validation of each dietary index, including the total dietary index and individual component dietary indexes.</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="contributing--notes">Contributing &amp; Notes<a class="anchor" aria-label="anchor" href="#contributing--notes"></a>
</h3>
<hr>
<p><strong>dietaryindex</strong> is licensed under the <a href="https://github.com/jamesjiadazhan/dietaryindex/blob/main/other/LICENSE.txt" class="external-link">MIT License</a>. Please check out the <a href="https://github.com/jamesjiadazhan/dietaryindex/blob/main/CONTRIBUTING.md" class="external-link">Contribution guide</a> for questions, feature requests, and bug reports. The maintainer will review pull requests and incorporate contributions at his discretion. You may also reach out to the maintainer, <strong>Jiada (James) Zhan</strong>, via his email: <a href="mailto:jzha832@emory.edu" class="email">jzha832@emory.edu</a>. <strong>Jiada (James) Zhan</strong> home page at Emory is: <a href="https://www.sph.emory.edu/phd-students/profile/index.php?FID=jiada-zhan-12906" class="external-link uri">https://www.sph.emory.edu/phd-students/profile/index.php?FID=jiada-zhan-12906</a>. <strong>Becky Hodge</strong> at the American Cancer Society provided substantial contributions to validate this package. <strong>Michael L Orr</strong> at Dean Jones/ Young-Mi Go Lab at Emory University helped design the dietaryindex logo. Thanks a lot for their help.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> License</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dietaryindex</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>James Zhan <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2480-8760" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Becky Hodge <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-9738-0876" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by James Zhan, Becky Hodge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
